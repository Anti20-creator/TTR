{"version":3,"sources":["Decks/TrainDeck.js","mapdata/MapData.js","socket/ClientSocket.js","features/dataSlice.js","GamePage/components/GoalCard.js","GamePage/components/DownSide/CardInHand.js","GamePage/components/DownSide/PlayerHand.js","GamePage/components/DownSide/DestinationCard.js","GamePage/components/DownSide/DrawDestinationCards.js","GamePage/components/DownSide/DownSide.js","GamePage/components/UpperSide/GameHistory.js","GamePage/components/UpperSide/OpponentRow/OpponentRow.js","GamePage/components/UpperSide/LeftPanel.js","GamePage/components/UpperSide/City.js","GamePage/components/UpperSide/TrainRoute.js","GamePage/components/UpperSide/LineBetweenPoints.js","GamePage/components/UpperSide/LineBetweenCities.js","GamePage/components/UpperSide/Map.js","app/store.js","GamePage/components/Card.js","GamePage/components/Deck.js","GamePage/components/Drawer.js","GamePage/components/UpperSide/RightPanel.js","GamePage/components/UpperSide/UpperSide.js","GamePage/GamePage.js","HomePage/HomePage.js","WaitingRoom/WaitingRoom.js","ScoreBoardPage/ScoreBoardMapDialog.js","ScoreBoardPage/ScoreBoardRow.js","ScoreBoardPage/ScoreBoardPage.js","App.js","reportWebVitals.js","index.js"],"names":["TrainDeck","normalCards","jokerCards","colors","this","cards","Array","from","keys","map","i","color","push","shuffle","times","card","sortValue","Math","random","sort","a","b","shift","ticketToRideData","cities","connections","destinations","longDestinations","store","room","socket","playerId","history","creator","registerListenersOnSocket","_store","_history","console","log","on","data","roomId","player","state","dispatch","roomIsFull","emit","getRoomId","getState","newStore","synchronize","action","method","setPlayerName","name","alert","io","synchronizeStep","getPlayerId","trainDeck","dataSlice","createSlice","initialState","playerCount","playerHands","trainCards","onBoardCards","currentPlayer","playerGoals","playerGoalOptions","gameState","drawedCards","selectedGoalIndex","hoveredData","selectedFirstCity","neighbourCities","buyingArrays","openBuyingOptions","buyingOpts","playerLines","isHovering","playerInfos","bigLineData","remainingRounds","showCompleted","throwDeck","playersJoined","isRoomFull","reducers","initNames","payload","seed","floor","playerColor","playerScore","playerTrainCount","rounds","setPlayerCount","initPlayerHands","length","j","drawed","filter","count","initOnBoardCars","drawCardToBoard","generateDeck","x","idx","nextPlayer","concat","drawLongDestinations","item","completed","drawGoalOptionsForAllPlayers","acceptDestinations","selected","returnToDeck","stepSelectedGoalIndex","n","m","fromCity","toCity","includes","filtered","setHoveredData","to","selectFirstCity","newItems","Object","minJokers","locomotive","canPayForIt","elements","city","options","deleteableIndexes","equals","k","reverse","splice","deleteIndexes","blacklist","trainColor","Set","index","selectSecondCity","arr","build","undefined","boughtWith","capitalize","buildedValue","isPossibleColor","parseInt","pointCounter","appendable","breaked","upperBound","set","value","indexes","currentGoal","hoveringGoal","drawDestinationsInGame","playerLeaved","maximums","longestTrain","maxValue","reduce","array","cardsInHand","result","matchingCards","ccolor","String","prototype","charAt","toUpperCase","slice","actions","trainDeckLength","goalDeckLength","actualPlayerHand","actualPlayerGoals","actualGoalIndex","neighbourCitiesData","openBuying","allPlayerHand","allGoals","currentIdx","showCompletedLine","ownPlayerHand","ownPlayerGoalOptions","ownPlayerGoals","useStyles","makeStyles","theme","createStyles","root","display","justifyContent","details","flexDirection","content","flex","cover","width","controls","alignItems","paddingBottom","spacing","playIcon","height","GoalCard","classes","useTheme","useState","actual","setActual","useDispatch","goalIndex","useSelector","stepCities","useEffect","className","onMouseEnter","onMouseLeave","Card","CardContent","Typography","component","variant","IconButton","aria-label","onClick","style","CardInHand","place","transform","src","alt","PlayerHand","DestinationCard","points","clickAction","defaultSelection","setSelected","e","target","closest","classList","remove","add","makeSelected","DrawDestinationCards","clickEvent","setCards","cardSelector","cIdx","oldCards","addRemoveFromHand","id","Button","disabled","notWanted","DownSide","forceUpdate","setValue","useForceUpdate","cardsInHand2","goalCards2","setBegin","earlyGameState","appBar","position","title","marginLeft","GameHistory","onClose","selectedValue","open","historyFields","Dialog","aria-labelledby","DialogTitle","List","ListItem","ListItemText","primary","OpponentRow","playerName","playerCards","isActive","backgroundColor","Avatar","border","Badge","badgeContent","LeftPanel","setOpen","infos","goals","currIdx","gState","useHistory","info","City","y","modifier","isNeighbour","setIsNeighbour","active","setActive","hoveredCities","selectedF","neighbours","gameS","currentlyHovered","stopPropagation","top","left","zIndex","TrainRoute","placeholderColor","rotate","playerHolding","LineBetweenPoints","fromX","fromY","toX","toY","stroke","window","innerWidth","sqrt","pow","abs","asin","PI","x1","y1","x2","y2","strokeWidth","LineBetweenCities","before","coordinates","start","find","needToReverse","between","element","end","elem","Map","buyingOptions","openBuyingPanel","lines","completedOne","hovering","playerIndex","url","backgroundImage","alignment","goalCity","connection","n1","n2","acos","idxPlayer","line","idxLine","beforeValue","player2","idxPlayer2","line2","idxLine2","overflow","maxWidth","option","backColor","textColor","configureStore","reducer","cardColor","goalDeckCover","setColor","animation","setTimeout","goOut","Deck","coverImg","goalDeck","Drawer","RightPanel","trainCardsLength","goalCardsLength","UpperSide","GamePage","HomePage","joinPlayerName","setJoinPlayerName","roomID","setRoomID","createRoom","preventDefault","trim","localStorage","setItem","roomSize","status","joinRoom","JSON","parse","wsJoinRoom","React","handleClose","event","reason","Alert","props","elevation","onSubmit","TextField","label","defaultValue","helperText","onChange","minWidth","FormControl","InputLabel","Select","labelId","MenuItem","type","Fab","Snackbar","autoHideDuration","severity","WaitingRoom","isFull","setRoomId","make","Tooltip","leaveRoom","CircularProgress","Transition","forwardRef","ref","Slide","direction","ScoreBoardMapDialog","fullScreen","TransitionComponent","AppBar","Toolbar","edge","autoFocus","ScoreBoardRow","row","StyledTableRow","withStyles","palette","hover","TableRow","StyledTableCell","table","head","common","black","white","body","fontSize","TableCell","Fragment","size","allDestinations","completedDestinations","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","margin","gutterBottom","Table","TableHead","align","TableBody","destinationData","scope","ScoreBoardPage","rows","createData","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.375dd7ab.chunk.js","sourcesContent":["export default class TrainDeck {\r\n\r\n    constructor(normalCards, jokerCards, colors){\r\n        this.cards = []\r\n        Array.from(Array(normalCards).keys()).map(i => {\r\n            colors.map(color => {\r\n                this.cards.push(color)\r\n            })\r\n        })\r\n    \r\n        Array.from(Array(jokerCards - normalCards).keys()).map(i => {\r\n            this.cards.push('Joker')\r\n        })\r\n        \r\n        this.shuffle(10)\r\n    }\r\n\r\n    shuffle(times) {\r\n        Array.from(Array(times).keys()).map(i => {\r\n            this.cards = this.cards\r\n                .map(card => ({sortValue: Math.random(), card: card}))\r\n                .sort((a, b) => a.sortValue - b.sortValue)\r\n                .map(card => card.card)\r\n        })\r\n    }\r\n\r\n    draw() {\r\n        return this.cards.shift()\r\n    }\r\n}\r\n\r\n\r\n","export const ticketToRideData = {\r\n    cities: {\r\n      \"1\":{\"id\":\"1\",\"city\":\"Amsterdam\",\"today\":\"Amsterdam\",\"country\":\"Holland\",\"x\":31.874999999999996,\"y\":30.58161350844278,},\r\n      \"2\":{\"id\":\"2\",\"city\":\"Angora\",\"today\":\"Ankara\",\"country\":\"Turkey\",\"x\":85.625,\"y\":89.8686679174484, \"alignment\": \"middle-left\"},\r\n      \"3\":{\"id\":\"3\",\"city\":\"Athina\",\"today\":\"Athens\",\"country\":\"Greece\",\"x\":66,\"y\":89.8686679174484, \"alignment\": \"top-right\"},\r\n      \"4\":{\"id\":\"4\",\"city\":\"Barcelona\",\"today\":\"Barcelona\",\"country\":\"Spain\",\"x\":21.625,\"y\":84.42776735459663, \"alignment\" : \"bottom-right\"},\r\n      \"5\":{\"id\":\"5\",\"city\":\"Berlin\",\"today\":\"Berlin\",\"country\":\"Germany\",\"x\":49.125,\"y\":34.33395872420263},\r\n      \"6\":{\"id\":\"6\",\"city\":\"Brest\",\"today\":\"Brest\",\"country\":\"France\",\"x\":13.25,\"y\":47.27954971857411, \"alignment\": \"middle-left\"},\r\n      \"7\":{\"id\":\"7\",\"city\":\"Brindisi\",\"today\":\"Brindisi\",\"country\":\"Italy\",\"x\":54.37499999999999,\"y\":78.61163227016885, \"alignment\": \"top-right\"},\r\n      \"8\":{\"id\":\"8\",\"city\":\"Bruxelles\",\"today\":\"Brussels\",\"country\":\"Belgium\",\"x\":29.625,\"y\":37.5234521575985},\r\n      \"9\":{\"id\":\"9\",\"city\":\"Bucuresti\",\"today\":\"Bucharest\",\"country\":\"Romania\",\"x\":73.5,\"y\":64.35272045028142, \"alignment\": \"middle-right\"},\r\n      \"10\":{\"id\":\"10\",\"city\":\"Budapest\",\"today\":\"Budapest\",\"country\":\"Hungary\",\"x\":59.12500000000001,\"y\":54.409005628517825, \"alignment\": \"middle-right\"},\r\n      \"11\":{\"id\":\"11\",\"city\":\"Cadiz\",\"today\":\"Cadiz\",\"country\":\"Spain\",\"x\":10.875,\"y\":93.62101313320825},\r\n      \"12\":{\"id\":\"12\",\"city\":\"Constantinople\",\"today\":\"Istanbul\",\"country\":\"Turkey\",\"x\":78.375,\"y\":81.98874296435272, \"alignment\": \"middle-left\"},\r\n      \"13\":{\"id\":\"13\",\"city\":\"Danzig\",\"today\":\"Gdansk\",\"country\":\"Poland\",\"x\":60,\"y\":23.076923076923077, \"alignment\": \"middle-right\"},\r\n      \"14\":{\"id\":\"14\",\"city\":\"Dieppe\",\"today\":\"Dieppe\",\"country\":\"France\",\"x\":21.75,\"y\":43.151969981238274},\r\n      \"15\":{\"id\":\"15\",\"city\":\"Edinburgh\",\"today\":\"Edinburgh\",\"country\":\"Scotland, UK\",\"x\":16.5,\"y\":8.818011257035648},\r\n      \"16\":{\"id\":\"16\",\"city\":\"Erzurum\",\"today\":\"Erzurum\",\"country\":\"Turkey\",\"x\":93.25,\"y\":86.49155722326454, \"alignment\":\"middle-left\"},\r\n      \"17\":{\"id\":\"17\",\"city\":\"Essen\",\"today\":\"Essen\",\"country\":\"Germany\",\"x\":39.625,\"y\":32.08255159474672, \"alignment\": \"middle-left\"},\r\n      \"18\":{\"id\":\"18\",\"city\":\"Frankfurt\",\"today\":\"Frankfurt\",\"country\":\"Germany\",\"x\":38.125,\"y\":42.21388367729831, \"alignment\": \"close-top-left\"},\r\n      \"19\":{\"id\":\"19\",\"city\":\"Kharkov\",\"today\":\"Kharkov\",\"country\":\"Ukraine\",\"x\":91.625,\"y\":48.21763602251407},\r\n      \"20\":{\"id\":\"20\",\"city\":\"Kobenhavn\",\"today\":\"Copenhagen\",\"country\":\"Denmark\",\"x\":46.625,\"y\":17.073170731707318},\r\n      \"21\":{\"id\":\"21\",\"city\":\"Kyiv\",\"today\":\"Kiev\",\"country\":\"Ukraine\",\"x\":78.875,\"y\":40.52532833020638},\r\n      \"22\":{\"id\":\"22\",\"city\":\"Lisboa\",\"today\":\"Lisbon\",\"country\":\"Portugal\",\"x\":4.625,\"y\":86.49155722326454},\r\n      \"23\":{\"id\":\"23\",\"city\":\"London\",\"today\":\"London\",\"country\":\"England, UK\",\"x\":22.75,\"y\":30.393996247654787, \"alignment\": \"middle-left\"},\r\n      \"24\":{\"id\":\"24\",\"city\":\"Madrid\",\"today\":\"Madrid\",\"country\":\"Spain\",\"x\":10.875,\"y\":83.11444652908068, \"alignment\": \"middle-left\"},\r\n      \"25\":{\"id\":\"25\",\"city\":\"Marseille\",\"today\":\"Marseille\",\"country\":\"France\",\"x\":34.875,\"y\":70.73170731707317, \"alignment\":'down-right'},\r\n      \"26\":{\"id\":\"26\",\"city\":\"Moskva\",\"today\":\"Moscow\",\"country\":\"Russia\",\"x\":93,\"y\":26.454033771106943, \"alignment\": \"middle-left\"},\r\n      \"27\":{\"id\":\"27\",\"city\":\"Munchen\",\"today\":\"Munich\",\"country\":\"Germany\",\"x\":43.625,\"y\":48.405253283302066},\r\n      \"28\":{\"id\":\"28\",\"city\":\"Palermo\",\"today\":\"Palermo\",\"country\":\"Italy\",\"x\":49.625,\"y\":93.80863039399625},\r\n      \"29\":{\"id\":\"29\",\"city\":\"Pamplona\",\"today\":\"Pamplona\",\"country\":\"Italy\",\"x\":20.375,\"y\":71.48217636022514},\r\n      \"30\":{\"id\":\"30\",\"city\":\"Paris\",\"today\":\"Paris\",\"country\":\"France\",\"x\":26.375,\"y\":49.71857410881801},\r\n      \"31\":{\"id\":\"31\",\"city\":\"Petrograd\",\"today\":\"St. Petersburg\",\"country\":\"Russia\",\"x\":83.875,\"y\":9.568480300187618, \"alignment\": \"middle-right\"},\r\n      \"32\":{\"id\":\"32\",\"city\":\"Riga\",\"today\":\"Riga\",\"country\":\"Latvia\",\"x\":67.75,\"y\":10.318949343339586},\r\n      \"33\":{\"id\":\"33\",\"city\":\"Roma\",\"today\":\"Rome\",\"country\":\"Italy\",\"x\":46,\"y\":74.85928705440901, \"alignment\": \"middle-left\"},\r\n      \"34\":{\"id\":\"34\",\"city\":\"Rostov\",\"today\":\"Rostov\",\"country\":\"Russia\",\"x\":95.625,\"y\":55.72232645403376},\r\n      \"35\":{\"id\":\"35\",\"city\":\"Sarajevo\",\"today\":\"Sarajevo\",\"country\":\"Bosnia and Herzegovina\",\"x\":61.375,\"y\":72.23264540337712},\r\n      \"36\":{\"id\":\"36\",\"city\":\"Sevastopol\",\"today\":\"Sevastopol\",\"country\":\"Ukraine\",\"x\":86.625,\"y\":66.60412757973734, \"alignment\": \"middle-left\"},\r\n      \"37\":{\"id\":\"37\",\"city\":\"Smolensk\",\"today\":\"Smolensk\",\"country\":\"Russia\",\"x\":85.125,\"y\":30.0187617260788, \"alignment\": \"middle-left\"},\r\n      \"38\":{\"id\":\"38\",\"city\":\"Smyrna\",\"today\":\"Izmir\",\"country\":\"Turkey\",\"x\":74.125,\"y\":93.24577861163228, \"alignment\": \"down-right\"},\r\n      \"39\":{\"id\":\"39\",\"city\":\"Sochi\",\"today\":\"Sochi\",\"country\":\"Russia\",\"x\":95.125,\"y\":68.66791744840526},\r\n      \"40\":{\"id\":\"40\",\"city\":\"Sofia\",\"today\":\"Sofia\",\"country\":\"Bulgaria\",\"x\":67.625,\"y\":73.35834896810508, \"alignment\": \"middle-left\"},\r\n      \"41\":{\"id\":\"41\",\"city\":\"Stockholm\",\"today\":\"Stockholm\",\"country\":\"Sweden\",\"x\":56.25,\"y\":6.0037523452157595},\r\n      \"42\":{\"id\":\"42\",\"city\":\"Venezia\",\"today\":\"Venice\",\"country\":\"Italy\",\"x\":45.375,\"y\":62.10131332082551},\r\n      \"43\":{\"id\":\"43\",\"city\":\"Warszawa\",\"today\":\"Warsaw\",\"country\":\"Poland\",\"x\":64.625,\"y\":32.833020637898684, \"alignment\": \"middle-right\"},\r\n      \"44\":{\"id\":\"44\",\"city\":\"Wien\",\"today\":\"Vienna\",\"country\":\"Austria\",\"x\":54.75,\"y\":50.84427767354597, \"alignment\": \"close-top-left\"},\r\n      \"45\":{\"id\":\"45\",\"city\":\"Wilno\",\"today\":\"Vilnius\",\"country\":\"Lithuania\",\"x\":75.125,\"y\":29.45590994371482, \"alignment\": \"middle-left\"},\r\n      \"46\":{\"id\":\"46\",\"city\":\"Zagrab\",\"today\":\"Zagreb\",\"country\":\"Croatia\",\"x\":53.37499999999999,\"y\":63.789868667917446, \"alignment\": \"middle-left\"},\r\n      \"47\":{\"id\":\"47\",\"city\":\"Zurich\",\"today\":\"Zurich\",\"country\":\"Switzerland\",\"x\":37.25,\"y\":57.410881801125704}\r\n    },\r\n    connections: {\r\n      \"1\": {\r\n        \"id\": 1,\r\n        \"from\": \"15\",\r\n        \"fromCity\": \"Edinburgh\",\r\n        \"to\": \"23\",\r\n        \"toCity\": \"London\",\r\n        \"elements\": [\r\n          { \"x\": 17, \"y\": 13.133208255159476 },\r\n          { \"x\": 18.375, \"y\": 17.636022514071296 },\r\n          { \"x\": 19.625, \"y\": 22.5140712945591 },\r\n          { \"x\": 21.125, \"y\": 27.392120075046904 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"2\": {\r\n        \"id\": 2,\r\n        \"from\": \"15\",\r\n        \"fromCity\": \"Edinburgh\",\r\n        \"to\": \"23\",\r\n        \"toCity\": \"London\",\r\n        \"elements\": [\r\n          { \"x\": 18.25, \"y\": 12.195121951219512 },\r\n          { \"x\": 19.5, \"y\": 17.26078799249531 },\r\n          { \"x\": 20.75, \"y\": 22.138836772983115 },\r\n          { \"x\": 22.375, \"y\": 26.82926829268293 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"3\": {\r\n        \"id\": 3,\r\n        \"from\": \"23\",\r\n        \"fromCity\": \"London\",\r\n        \"to\": \"14\",\r\n        \"toCity\": \"Dieppe\",\r\n        \"elements\": [\r\n          { \"x\": 21.5, \"y\": 34.146341463414636 },\r\n          { \"x\": 21.125, \"y\": 39.02439024390244 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"4\": {\r\n        \"id\": 4,\r\n        \"from\": \"23\",\r\n        \"fromCity\": \"London\",\r\n        \"to\": \"14\",\r\n        \"toCity\": \"Dieppe\",\r\n        \"elements\": [\r\n          { \"x\": 22.625, \"y\": 33.95872420262664 },\r\n          { \"x\": 22.375, \"y\": 39.21200750469043 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"5\": {\r\n        \"id\": 5,\r\n        \"from\": \"23\",\r\n        \"fromCity\": \"London\",\r\n        \"to\": \"1\",\r\n        \"toCity\": \"Amsterdam\",\r\n        \"elements\": [\r\n          { \"x\": 25.25, \"y\": 30.0187617260788 },\r\n          { \"x\": 28.625, \"y\": 30.206378986866795 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 2\r\n      },\r\n      \"6\": {\r\n        \"id\": 6,\r\n        \"from\": \"14\",\r\n        \"fromCity\": \"Dieppe\",\r\n        \"to\": \"6\",\r\n        \"toCity\": \"Brest\",\r\n        \"elements\": [\r\n          { \"x\": 18.75, \"y\": 42.77673545966229 },\r\n          { \"x\": 15.25, \"y\": 44.27767354596623 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"7\": {\r\n        \"id\": 7,\r\n        \"from\": \"6\",\r\n        \"fromCity\": \"Brest\",\r\n        \"to\": \"30\",\r\n        \"toCity\": \"Paris\",\r\n        \"elements\": [\r\n          { \"x\": 15.75, \"y\": 47.467166979362105 },\r\n          { \"x\": 19.125, \"y\": 48.21763602251407 },\r\n          { \"x\": 22.625, \"y\": 48.78048780487805 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"8\": {\r\n        \"id\": 8,\r\n        \"from\": \"14\",\r\n        \"fromCity\": \"Dieppe\",\r\n        \"to\": \"30\",\r\n        \"toCity\": \"Paris\",\r\n        \"elements\": [{ \"x\": 23.875, \"y\": 45.96622889305816 }],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"9\": {\r\n        \"id\": 9,\r\n        \"from\": \"14\",\r\n        \"fromCity\": \"Dieppe\",\r\n        \"to\": \"8\",\r\n        \"toCity\": \"Bruxelles\",\r\n        \"elements\": [\r\n          { \"x\": 24.375, \"y\": 41.46341463414634 },\r\n          { \"x\": 27.125, \"y\": 38.46153846153847 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"10\": {\r\n        \"id\": 10,\r\n        \"from\": \"1\",\r\n        \"fromCity\": \"Amsterdam\",\r\n        \"to\": \"8\",\r\n        \"toCity\": \"Bruxelles\",\r\n        \"elements\": [{ \"x\": 30.875000000000004, \"y\": 33.95872420262664 }],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"11\": {\r\n        \"id\": 11,\r\n        \"from\": \"8\",\r\n        \"fromCity\": \"Bruxelles\",\r\n        \"to\": \"30\",\r\n        \"toCity\": \"Paris\",\r\n        \"elements\": [\r\n          { \"x\": 28.499999999999996, \"y\": 40.71294559099437 },\r\n          { \"x\": 26.875, \"y\": 45.21575984990619 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"12\": {\r\n        \"id\": 12,\r\n        \"from\": \"8\",\r\n        \"fromCity\": \"Bruxelles\",\r\n        \"to\": \"30\",\r\n        \"toCity\": \"Paris\",\r\n        \"elements\": [\r\n          { \"x\": 29.5, \"y\": 41.651031894934334 },\r\n          { \"x\": 28.000000000000004, \"y\": 45.96622889305816 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"13\": {\r\n        \"id\": 13,\r\n        \"from\": \"1\",\r\n        \"fromCity\": \"Amsterdam\",\r\n        \"to\": \"18\",\r\n        \"toCity\": \"Frankfurt\",\r\n        \"elements\": [\r\n          { \"x\": 34, \"y\": 34.146341463414636 },\r\n          { \"x\": 36.5, \"y\": 37.89868667917448 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"14\": {\r\n        \"id\": 14,\r\n        \"from\": \"8\",\r\n        \"fromCity\": \"Bruxelles\",\r\n        \"to\": \"18\",\r\n        \"toCity\": \"Frankfurt\",\r\n        \"elements\": [\r\n          { \"x\": 32.25, \"y\": 37.5234521575985 },\r\n          { \"x\": 35.5, \"y\": 39.02439024390244 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"15\": {\r\n        \"id\": 15,\r\n        \"from\": \"1\",\r\n        \"fromCity\": \"Amsterdam\",\r\n        \"to\": \"17\",\r\n        \"toCity\": \"Essen\",\r\n        \"elements\": [\r\n          { \"x\": 32.125, \"y\": 27.204502814258912 },\r\n          { \"x\": 34.625, \"y\": 26.26641651031895 },\r\n          { \"x\": 37.75, \"y\": 29.268292682926827 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"16\": {\r\n        \"id\": 16,\r\n        \"from\": \"6\",\r\n        \"fromCity\": \"Brest\",\r\n        \"to\": \"29\",\r\n        \"toCity\": \"Pamplona\",\r\n        \"elements\": [\r\n          { \"x\": 15.5, \"y\": 49.906191369606 },\r\n          { \"x\": 18.25, \"y\": 53.47091932457786 },\r\n          { \"x\": 19.5, \"y\": 58.536585365853654 },\r\n          { \"x\": 19.75, \"y\": 63.977485928705434 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"17\": {\r\n        \"id\": 17,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"29\",\r\n        \"toCity\": \"Pamplona\",\r\n        \"elements\": [\r\n          { \"x\": 24.25, \"y\": 52.5328330206379 },\r\n          { \"x\": 23.5, \"y\": 57.78611632270169 },\r\n          { \"x\": 22.375, \"y\": 62.6641651031895 },\r\n          { \"x\": 20.875, \"y\": 67.54221388367729 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"18\": {\r\n        \"id\": 18,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"29\",\r\n        \"toCity\": \"Pamplona\",\r\n        \"elements\": [\r\n          { \"x\": 25.624999999999996, \"y\": 53.47091932457786 },\r\n          { \"x\": 24.75, \"y\": 58.536585365853654 },\r\n          { \"x\": 23.625, \"y\": 63.41463414634146 },\r\n          { \"x\": 21.875, \"y\": 68.29268292682927 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"19\": {\r\n        \"id\": 19,\r\n        \"from\": \"29\",\r\n        \"fromCity\": \"Pamplona\",\r\n        \"to\": \"24\",\r\n        \"toCity\": \"Madrid\",\r\n        \"elements\": [\r\n          { \"x\": 17.25, \"y\": 72.04502814258912 },\r\n          { \"x\": 14.499999999999998, \"y\": 75.60975609756098 },\r\n          { \"x\": 12.25, \"y\": 79.54971857410882 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"20\": {\r\n        \"id\": 20,\r\n        \"from\": \"29\",\r\n        \"fromCity\": \"Pamplona\",\r\n        \"to\": \"24\",\r\n        \"toCity\": \"Madrid\",\r\n        \"elements\": [\r\n          { \"x\": 18.125, \"y\": 73.54596622889305 },\r\n          { \"x\": 15.375, \"y\": 76.73545966228893 },\r\n          { \"x\": 13.125, \"y\": 80.86303939962477 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"21\": {\r\n        \"id\": 21,\r\n        \"from\": \"24\",\r\n        \"fromCity\": \"Madrid\",\r\n        \"to\": \"22\",\r\n        \"toCity\": \"Lisboa\",\r\n        \"elements\": [\r\n          { \"x\": 9, \"y\": 80.67542213883677 },\r\n          { \"x\": 5.375, \"y\": 78.79924953095684 },\r\n          { \"x\": 4.375, \"y\": 82.17636022514071 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"22\": {\r\n        \"id\": 22,\r\n        \"from\": \"24\",\r\n        \"fromCity\": \"Madrid\",\r\n        \"to\": \"11\",\r\n        \"toCity\": \"Cadiz\",\r\n        \"elements\": [\r\n          { \"x\": 13.125, \"y\": 85.55347091932458 },\r\n          { \"x\": 15, \"y\": 89.8686679174484 },\r\n          { \"x\": 13.25, \"y\": 92.4953095684803 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"23\": {\r\n        \"id\": 23,\r\n        \"from\": \"22\",\r\n        \"fromCity\": \"Lisboa\",\r\n        \"to\": \"11\",\r\n        \"toCity\": \"Cadiz\",\r\n        \"elements\": [\r\n          { \"x\": 5.625, \"y\": 89.49343339587243 },\r\n          { \"x\": 8.5, \"y\": 92.87054409005628 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"24\": {\r\n        \"id\": 24,\r\n        \"from\": \"24\",\r\n        \"fromCity\": \"Madrid\",\r\n        \"to\": \"4\",\r\n        \"toCity\": \"Barcelona\",\r\n        \"elements\": [\r\n          { \"x\": 15.125, \"y\": 83.67729831144464 },\r\n          { \"x\": 18.5, \"y\": 84.05253283302065 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"25\": {\r\n        \"id\": 25,\r\n        \"from\": \"29\",\r\n        \"fromCity\": \"Pamplona\",\r\n        \"to\": \"4\",\r\n        \"toCity\": \"Barcelona\",\r\n        \"elements\": [\r\n          { \"x\": 20.75, \"y\": 75.23452157598499 },\r\n          { \"x\": 21.125, \"y\": 80.48780487804879 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"26\": {\r\n        \"id\": 26,\r\n        \"from\": \"4\",\r\n        \"fromCity\": \"Barcelona\",\r\n        \"to\": \"25\",\r\n        \"toCity\": \"Marseille\",\r\n        \"elements\": [\r\n          { \"x\": 23.5, \"y\": 81.05065666041276 },\r\n          { \"x\": 25.874999999999996, \"y\": 77.6735459662289 },\r\n          { \"x\": 28.749999999999996, \"y\": 74.48405253283302 },\r\n          { \"x\": 31.874999999999996, \"y\": 72.23264540337712 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"27\": {\r\n        \"id\": 27,\r\n        \"from\": \"29\",\r\n        \"fromCity\": \"Pamplona\",\r\n        \"to\": \"25\",\r\n        \"toCity\": \"Marseille\",\r\n        \"elements\": [\r\n          { \"x\": 23.25, \"y\": 72.79549718574108 },\r\n          { \"x\": 25, \"y\": 70.1688555347092 },\r\n          { \"x\": 27.875, \"y\": 67.16697936210132 },\r\n          { \"x\": 31.374999999999996, \"y\": 68.29268292682927 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"28\": {\r\n        \"id\": 28,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"25\",\r\n        \"toCity\": \"Marseille\",\r\n        \"elements\": [\r\n          { \"x\": 27, \"y\": 54.971857410881796 },\r\n          { \"x\": 28.375, \"y\": 60.0375234521576 },\r\n          { \"x\": 30.875000000000004, \"y\": 63.60225140712945 },\r\n          { \"x\": 33.625, \"y\": 67.3545966228893 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"29\": {\r\n        \"id\": 29,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"47\",\r\n        \"toCity\": \"Zurich\",\r\n        \"elements\": [\r\n          { \"x\": 28.875, \"y\": 53.84615384615385 },\r\n          { \"x\": 31.5, \"y\": 57.223264540337716 },\r\n          { \"x\": 35, \"y\": 58.348968105065666 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"30\": {\r\n        \"id\": 30,\r\n        \"from\": \"47\",\r\n        \"fromCity\": \"Zurich\",\r\n        \"to\": \"25\",\r\n        \"toCity\": \"Marseille\",\r\n        \"elements\": [\r\n          { \"x\": 36.875, \"y\": 61.16322701688556 },\r\n          { \"x\": 36.125, \"y\": 66.22889305816135 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"31\": {\r\n        \"id\": 31,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"18\",\r\n        \"toCity\": \"Frankfurt\",\r\n        \"elements\": [\r\n          { \"x\": 29.625, \"y\": 48.405253283302066 },\r\n          { \"x\": 33, \"y\": 46.34146341463415 },\r\n          { \"x\": 35.875, \"y\": 43.52720450281426 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"32\": {\r\n        \"id\": 32,\r\n        \"from\": \"30\",\r\n        \"fromCity\": \"Paris\",\r\n        \"to\": \"18\",\r\n        \"toCity\": \"Frankfurt\",\r\n        \"elements\": [\r\n          { \"x\": 30.125, \"y\": 50.28142589118198 },\r\n          { \"x\": 33.5, \"y\": 48.030018761726076 },\r\n          { \"x\": 36.5, \"y\": 45.0281425891182 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"33\": {\r\n        \"id\": 33,\r\n        \"from\": \"17\",\r\n        \"fromCity\": \"Essen\",\r\n        \"to\": \"18\",\r\n        \"toCity\": \"Frankfurt\",\r\n        \"elements\": [\r\n          { \"x\": 39, \"y\": 38.27392120075047 }, //x: 39.875\r\n          { \"x\": 41.5, \"y\": 35.45966228893058 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"34\": {\r\n        \"id\": 34,\r\n        \"from\": \"18\",\r\n        \"fromCity\": \"Frankfurt\",\r\n        \"to\": \"27\",\r\n        \"toCity\": \"Munchen\",\r\n        \"elements\": [\r\n          { \"x\": 39.125, \"y\": 45.77861163227016 },\r\n          { \"x\": 40.875, \"y\": 48.78048780487805 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"35\": {\r\n        \"id\": 35,\r\n        \"from\": \"47\",\r\n        \"fromCity\": \"Zurich\",\r\n        \"to\": \"27\",\r\n        \"toCity\": \"Munchen\",\r\n        \"elements\": [\r\n          { \"x\": 39.375, \"y\": 54.59662288930581 },\r\n          { \"x\": 41.875, \"y\": 51.21951219512195 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"36\": {\r\n        \"id\": 36,\r\n        \"from\": \"47\",\r\n        \"fromCity\": \"Zurich\",\r\n        \"to\": \"42\",\r\n        \"toCity\": \"Venezia\",\r\n        \"elements\": [\r\n          { \"x\": 39.625, \"y\": 59.09943714821764 },\r\n          { \"x\": 42.75, \"y\": 61.53846153846154 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"37\": {\r\n        \"id\": 37,\r\n        \"from\": \"27\",\r\n        \"fromCity\": \"Munchen\",\r\n        \"to\": \"42\",\r\n        \"toCity\": \"Venezia\",\r\n        \"elements\": [\r\n          { \"x\": 44, \"y\": 53.283302063789876 },\r\n          { \"x\": 44.75, \"y\": 58.16135084427767 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"38\": {\r\n        \"id\": 38,\r\n        \"from\": \"25\",\r\n        \"fromCity\": \"Marseille\",\r\n        \"to\": \"33\",\r\n        \"toCity\": \"Roma\",\r\n        \"elements\": [\r\n          { \"x\": 37.25, \"y\": 69.04315196998124 },\r\n          { \"x\": 40, \"y\": 65.85365853658537 },\r\n          { \"x\": 42.375, \"y\": 67.7298311444653 },\r\n          { \"x\": 44.375, \"y\": 72.04502814258912 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"39\": {\r\n        \"id\": 39,\r\n        \"from\": \"42\",\r\n        \"fromCity\": \"Venezia\",\r\n        \"to\": \"33\",\r\n        \"toCity\": \"Roma\",\r\n        \"elements\": [\r\n          { \"x\": 45.625, \"y\": 66.04127579737336 },\r\n          { \"x\": 46.375, \"y\": 70.91932457786116 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"40\": {\r\n        \"id\": 40,\r\n        \"from\": \"18\",\r\n        \"fromCity\": \"Frankfurt\",\r\n        \"to\": \"5\",\r\n        \"toCity\": \"Berlin\",\r\n        \"elements\": [\r\n          { \"x\": 40.5, \"y\": 40.150093808630395 },\r\n          { \"x\": 43.625, \"y\": 37.71106941838649 },\r\n          { \"x\": 46.75, \"y\": 35.647279549718576 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"41\": {\r\n        \"id\": 41,\r\n        \"from\": \"18\",\r\n        \"fromCity\": \"Frankfurt\",\r\n        \"to\": \"5\",\r\n        \"toCity\": \"Berlin\",\r\n        \"elements\": [\r\n          { \"x\": 41, \"y\": 41.651031894934334 },\r\n          { \"x\": 44.125, \"y\": 39.39962476547842 },\r\n          { \"x\": 47.25, \"y\": 37.3358348968105 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"42\": {\r\n        \"id\": 42,\r\n        \"from\": \"17\",\r\n        \"fromCity\": \"Essen\",\r\n        \"to\": \"5\",\r\n        \"toCity\": \"Berlin\",\r\n        \"elements\": [\r\n          { \"x\": 43.125, \"y\": 31.70731707317073 },\r\n          { \"x\": 46.5, \"y\": 32.270168855534706 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"43\": {\r\n        \"id\": 43,\r\n        \"from\": \"17\",\r\n        \"fromCity\": \"Essen\",\r\n        \"to\": \"20\",\r\n        \"toCity\": \"Kobenhavn\",\r\n        \"elements\": [\r\n          { \"x\": 40.375, \"y\": 28.142589118198874 },\r\n          { \"x\": 42.25, \"y\": 23.827392120075046 },\r\n          { \"x\": 44.25, \"y\": 19.324577861163228 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"44\": {\r\n        \"id\": 44,\r\n        \"from\": \"17\",\r\n        \"fromCity\": \"Essen\",\r\n        \"to\": \"20\",\r\n        \"toCity\": \"Kobenhavn\",\r\n        \"elements\": [\r\n          { \"x\": 41.5, \"y\": 29.080675422138835 },\r\n          { \"x\": 43.375, \"y\": 24.577861163227016 },\r\n          { \"x\": 45.25, \"y\": 20.26266416510319 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"45\": {\r\n        \"id\": 45,\r\n        \"from\": \"20\",\r\n        \"fromCity\": \"Kobenhavn\",\r\n        \"to\": \"41\",\r\n        \"toCity\": \"Stockholm\",\r\n        \"elements\": [\r\n          { \"x\": 47.875, \"y\": 13.696060037523452 },\r\n          { \"x\": 50.24999999999999, \"y\": 9.943714821763603 },\r\n          { \"x\": 53.37499999999999, \"y\": 6.941838649155723 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"46\": {\r\n        \"id\": 46,\r\n        \"from\": \"20\",\r\n        \"fromCity\": \"Kobenhavn\",\r\n        \"to\": \"41\",\r\n        \"toCity\": \"Stockholm\",\r\n        \"elements\": [\r\n          { \"x\": 48.75, \"y\": 15.196998123827393 },\r\n          { \"x\": 51.125, \"y\": 11.632270168855536 },\r\n          { \"x\": 54, \"y\": 8.442776735459661 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"47\": {\r\n        \"id\": 47,\r\n        \"from\": \"27\",\r\n        \"fromCity\": \"Munchen\",\r\n        \"to\": \"44\",\r\n        \"toCity\": \"Wien\",\r\n        \"elements\": [\r\n          { \"x\": 45.5, \"y\": 51.21951219512195 },\r\n          { \"x\": 48.75, \"y\": 53.65853658536586 },\r\n          { \"x\": 52.125, \"y\": 51.969981238273924 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"48\": {\r\n        \"id\": 48,\r\n        \"from\": \"42\",\r\n        \"fromCity\": \"Venezia\",\r\n        \"to\": \"46\",\r\n        \"toCity\": \"Zagrab\",\r\n        \"elements\": [\r\n          { \"x\": 47.875, \"y\": 60.60037523452158 },\r\n          { \"x\": 51.125, \"y\": 61.53846153846154 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"49\": {\r\n        \"id\": 49,\r\n        \"from\": \"33\",\r\n        \"fromCity\": \"Roma\",\r\n        \"to\": \"7\",\r\n        \"toCity\": \"Brindisi\",\r\n        \"elements\": [\r\n          { \"x\": 49.125, \"y\": 73.73358348968105 },\r\n          { \"x\": 52.37500000000001, \"y\": 75.79737335834896 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"50\": {\r\n        \"id\": 50,\r\n        \"from\": \"33\",\r\n        \"fromCity\": \"Roma\",\r\n        \"to\": \"28\",\r\n        \"toCity\": \"Palermo\",\r\n        \"elements\": [\r\n          { \"x\": 48.125, \"y\": 76.36022514071294 },\r\n          { \"x\": 51.125, \"y\": 80.1125703564728 },\r\n          { \"x\": 52, \"y\": 85.17823639774859 },\r\n          { \"x\": 50.74999999999999, \"y\": 90.2439024390244 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"51\": {\r\n        \"id\": 51,\r\n        \"from\": \"7\",\r\n        \"fromCity\": \"Brindisi\",\r\n        \"to\": \"28\",\r\n        \"toCity\": \"Palermo\",\r\n        \"elements\": [\r\n          { \"x\": 54.75, \"y\": 82.36397748592871 },\r\n          { \"x\": 54, \"y\": 87.4296435272045 },\r\n          { \"x\": 51.625, \"y\": 91.36960600375235 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"52\": {\r\n        \"id\": 52,\r\n        \"from\": \"7\",\r\n        \"fromCity\": \"Brindisi\",\r\n        \"to\": \"3\",\r\n        \"toCity\": \"Athina\",\r\n        \"elements\": [\r\n          { \"x\": 56.00000000000001, \"y\": 81.61350844277673 },\r\n          { \"x\": 57.375, \"y\": 86.30393996247655 },\r\n          { \"x\": 59.875, \"y\": 90.0562851782364 },\r\n          { \"x\": 63.5, \"y\": 90.61913696060037 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"53\": {\r\n        \"id\": 53,\r\n        \"from\": \"28\",\r\n        \"fromCity\": \"Palermo\",\r\n        \"to\": \"38\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"elements\": [\r\n          { \"x\": 54, \"y\": 93.43339587242026 },\r\n          { \"x\": 57.375, \"y\": 93.24577861163228 },\r\n          { \"x\": 61, \"y\": 93.43339587242026 },\r\n          { \"x\": 64.5, \"y\": 93.43339587242026 },\r\n          { \"x\": 67.875, \"y\": 93.24577861163228 },\r\n          { \"x\": 71.625, \"y\": 93.43339587242026 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 2\r\n      },\r\n      \"54\": {\r\n        \"id\": 54,\r\n        \"from\": \"3\",\r\n        \"fromCity\": \"Athina\",\r\n        \"to\": \"38\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"elements\": [\r\n          { \"x\": 68.375, \"y\": 89.49343339587243 },\r\n          { \"x\": 71.875, \"y\": 90.61913696060037 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"55\": {\r\n        \"id\": 55,\r\n        \"from\": \"5\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"to\": \"13\",\r\n        \"toCity\": \"Danzig\",\r\n        \"elements\": [\r\n          { \"x\": 49.5, \"y\": 29.45590994371482 },\r\n          { \"x\": 51.125, \"y\": 24.202626641651033 },\r\n          { \"x\": 53.87499999999999, \"y\": 21.575984990619137 },\r\n          { \"x\": 57.49999999999999, \"y\": 21.575984990619137 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"56\": {\r\n        \"id\": 56,\r\n        \"from\": \"5\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"to\": \"43\",\r\n        \"toCity\": \"Warszawa\",\r\n        \"elements\": [\r\n          { \"x\": 51.5, \"y\": 32.4577861163227 },\r\n          { \"x\": 54.87499999999999, \"y\": 31.51969981238274 },\r\n          { \"x\": 58.5, \"y\": 30.95684803001876 },\r\n          { \"x\": 62, \"y\": 31.51969981238274 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"57\": {\r\n        \"id\": 57,\r\n        \"from\": \"5\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"to\": \"43\",\r\n        \"toCity\": \"Warszawa\",\r\n        \"elements\": [\r\n          { \"x\": 51.5, \"y\": 34.52157598499062 },\r\n          { \"x\": 55.00000000000001, \"y\": 33.39587242026266 },\r\n          { \"x\": 58.5, \"y\": 33.20825515947467 },\r\n          { \"x\": 61.875, \"y\": 33.39587242026266 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"58\": {\r\n        \"id\": 58,\r\n        \"from\": \"5\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"to\": \"44\",\r\n        \"toCity\": \"Wien\",\r\n        \"elements\": [\r\n          { \"x\": 49.875, \"y\": 38.27392120075047 },\r\n          { \"x\": 51.24999999999999, \"y\": 42.964352720450286 },\r\n          { \"x\": 53, \"y\": 47.467166979362105 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"59\": {\r\n        \"id\": 59,\r\n        \"from\": \"13\",\r\n        \"fromCity\": \"Danzig\",\r\n        \"to\": \"43\",\r\n        \"toCity\": \"Warszawa\",\r\n        \"elements\": [\r\n          { \"x\": 62, \"y\": 24.765478424015008 },\r\n          { \"x\": 64, \"y\": 29.080675422138835 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"60\": {\r\n        \"id\": 60,\r\n        \"from\": \"13\",\r\n        \"fromCity\": \"Danzig\",\r\n        \"to\": \"32\",\r\n        \"toCity\": \"Riga\",\r\n        \"elements\": [\r\n          { \"x\": 60.62499999999999, \"y\": 19.324577861163228 },\r\n          { \"x\": 62.375, \"y\": 14.634146341463413 },\r\n          { \"x\": 65.375, \"y\": 11.25703564727955 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"61\": {\r\n        \"id\": 61,\r\n        \"from\": \"43\",\r\n        \"fromCity\": \"Warszawa\",\r\n        \"to\": \"44\",\r\n        \"toCity\": \"Wien\",\r\n        \"elements\": [\r\n          { \"x\": 63.5, \"y\": 36.58536585365854 },\r\n          { \"x\": 61.625, \"y\": 41.088180112570356 },\r\n          { \"x\": 59.25, \"y\": 45.0281425891182 },\r\n          { \"x\": 56.49999999999999, \"y\": 48.21763602251407 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"62\": {\r\n        \"id\": 62,\r\n        \"from\": \"44\",\r\n        \"fromCity\": \"Wien\",\r\n        \"to\": \"46\",\r\n        \"toCity\": \"Zagrab\",\r\n        \"elements\": [\r\n          { \"x\": 53.75, \"y\": 54.22138836772983 },\r\n          { \"x\": 53.5, \"y\": 59.66228893058161 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"63\": {\r\n        \"id\": 63,\r\n        \"from\": \"44\",\r\n        \"fromCity\": \"Wien\",\r\n        \"to\": \"10\",\r\n        \"toCity\": \"Budapest\",\r\n        \"elements\": [{ \"x\": 56.875, \"y\": 52.34521575984991 }],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"64\": {\r\n        \"id\": 64,\r\n        \"from\": \"44\",\r\n        \"fromCity\": \"Wien\",\r\n        \"to\": \"10\",\r\n        \"toCity\": \"Budapest\",\r\n        \"elements\": [{ \"x\": 56.25, \"y\": 54.03377110694184 }],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"65\": {\r\n        \"id\": 65,\r\n        \"from\": \"46\",\r\n        \"fromCity\": \"Zagrab\",\r\n        \"to\": \"10\",\r\n        \"toCity\": \"Budapest\",\r\n        \"elements\": [\r\n          { \"x\": 55.375, \"y\": 61.53846153846154 },\r\n          { \"x\": 57.49999999999999, \"y\": 57.223264540337716 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"66\": {\r\n        \"id\": 66,\r\n        \"from\": \"46\",\r\n        \"fromCity\": \"Zagrab\",\r\n        \"to\": \"35\",\r\n        \"toCity\": \"Sarajevo\",\r\n        \"elements\": [\r\n          { \"x\": 53.5, \"y\": 67.54221388367729 },\r\n          { \"x\": 55.50000000000001, \"y\": 72.04502814258912 },\r\n          { \"x\": 58.875, \"y\": 73.17073170731707 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"67\": {\r\n        \"id\": 67,\r\n        \"from\": \"10\",\r\n        \"fromCity\": \"Budapest\",\r\n        \"to\": \"35\",\r\n        \"toCity\": \"Sarajevo\",\r\n        \"elements\": [\r\n          { \"x\": 59.75, \"y\": 58.16135084427767 },\r\n          { \"x\": 60.25, \"y\": 63.22701688555347 },\r\n          { \"x\": 60.75000000000001, \"y\": 68.48030018761726 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"68\": {\r\n        \"id\": 68,\r\n        \"from\": \"35\",\r\n        \"fromCity\": \"Sarajevo\",\r\n        \"to\": \"3\",\r\n        \"toCity\": \"Athina\",\r\n        \"elements\": [\r\n          { \"x\": 61.25000000000001, \"y\": 75.79737335834896 },\r\n          { \"x\": 61.12499999999999, \"y\": 81.05065666041276 },\r\n          { \"x\": 60.75000000000001, \"y\": 86.11632270168855 },\r\n          { \"x\": 63.125, \"y\": 88.18011257035647 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"69\": {\r\n        \"id\": 69,\r\n        \"from\": \"35\",\r\n        \"fromCity\": \"Sarajevo\",\r\n        \"to\": \"40\",\r\n        \"toCity\": \"Sofia\",\r\n        \"elements\": [\r\n          { \"x\": 63.625, \"y\": 70.1688555347092 },\r\n          { \"x\": 66.25, \"y\": 70.1688555347092 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"70\": {\r\n        \"id\": 70,\r\n        \"from\": \"40\",\r\n        \"fromCity\": \"Sofia\",\r\n        \"to\": \"3\",\r\n        \"toCity\": \"Athina\",\r\n        \"elements\": [\r\n          { \"x\": 66.125, \"y\": 75.60975609756098 },\r\n          { \"x\": 64.375, \"y\": 81.05065666041276 },\r\n          { \"x\": 65.25, \"y\": 85.92870544090057 }\r\n        ],\r\n        \"color\": \"purple\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"71\": {\r\n        \"id\": 71,\r\n        \"from\": \"40\",\r\n        \"fromCity\": \"Sofia\",\r\n        \"to\": \"12\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"elements\": [\r\n          { \"x\": 69.75, \"y\": 75.23452157598499 },\r\n          { \"x\": 72.875, \"y\": 77.86116322701689 },\r\n          { \"x\": 75.875, \"y\": 80.30018761726079 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"72\": {\r\n        \"id\": 72,\r\n        \"from\": \"12\",\r\n        \"fromCity\": \"Constantinople\",\r\n        \"to\": \"38\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"elements\": [\r\n          { \"x\": 76.75, \"y\": 84.9906191369606 },\r\n          { \"x\": 75.125, \"y\": 89.6810506566604 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"73\": {\r\n        \"id\": 73,\r\n        \"from\": \"40\",\r\n        \"fromCity\": \"Sofia\",\r\n        \"to\": \"9\",\r\n        \"toCity\": \"Bucuresti\",\r\n        \"elements\": [\r\n          { \"x\": 70.125, \"y\": 71.48217636022514 },\r\n          { \"x\": 72.375, \"y\": 67.7298311444653 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"74\": {\r\n        \"id\": 74,\r\n        \"from\": \"10\",\r\n        \"fromCity\": \"Budapest\",\r\n        \"to\": \"9\",\r\n        \"toCity\": \"Bucuresti\",\r\n        \"elements\": [\r\n          { \"x\": 61.625, \"y\": 55.34709193245778 },\r\n          { \"x\": 64.75, \"y\": 57.78611632270169 },\r\n          { \"x\": 67.75, \"y\": 60.41275797373359 },\r\n          { \"x\": 70.875, \"y\": 62.6641651031895 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"75\": {\r\n        \"id\": 75,\r\n        \"from\": \"9\",\r\n        \"fromCity\": \"Bucuresti\",\r\n        \"to\": \"12\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"elements\": [\r\n          { \"x\": 74.5, \"y\": 68.10506566604127 },\r\n          { \"x\": 75.875, \"y\": 72.79549718574108 },\r\n          { \"x\": 77.125, \"y\": 77.6735459662289 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"76\": {\r\n        \"id\": 76,\r\n        \"from\": \"10\",\r\n        \"fromCity\": \"Budapest\",\r\n        \"to\": \"21\",\r\n        \"toCity\": \"Kyiv\",\r\n        \"elements\": [\r\n          { \"x\": 60.375, \"y\": 50.84427767354597 },\r\n          { \"x\": 63.24999999999999, \"y\": 47.091932457786115 },\r\n          { \"x\": 66.125, \"y\": 44.27767354596623 },\r\n          { \"x\": 69.375, \"y\": 42.40150093808631 },\r\n          { \"x\": 72.75, \"y\": 41.275797373358344 },\r\n          { \"x\": 76.375, \"y\": 41.46341463414634 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"77\": {\r\n        \"id\": 77,\r\n        \"from\": \"9\",\r\n        \"fromCity\": \"Bucuresti\",\r\n        \"to\": \"21\",\r\n        \"toCity\": \"Kyiv\",\r\n        \"elements\": [\r\n          { \"x\": 73.75, \"y\": 60.0375234521576 },\r\n          { \"x\": 74.75, \"y\": 55.34709193245778 },\r\n          { \"x\": 75.875, \"y\": 50.28142589118198 },\r\n          { \"x\": 77, \"y\": 45.40337711069418 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"78\": {\r\n        \"id\": 78,\r\n        \"from\": \"43\",\r\n        \"fromCity\": \"Warszawa\",\r\n        \"to\": \"21\",\r\n        \"toCity\": \"Kyiv\",\r\n        \"elements\": [\r\n          { \"x\": 66.25, \"y\": 35.45966228893058 },\r\n          { \"x\": 69.25, \"y\": 38.46153846153847 },\r\n          { \"x\": 72.75, \"y\": 39.39962476547842 },\r\n          { \"x\": 76.25, \"y\": 39.39962476547842 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"79\": {\r\n        \"id\": 79,\r\n        \"from\": \"21\",\r\n        \"fromCity\": \"Kyiv\",\r\n        \"to\": \"45\",\r\n        \"toCity\": \"Wilno\",\r\n        \"elements\": [\r\n          { \"x\": 79, \"y\": 36.39774859287054 },\r\n          { \"x\": 77.5, \"y\": 31.894934333958723 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"80\": {\r\n        \"id\": 80,\r\n        \"from\": \"43\",\r\n        \"fromCity\": \"Warszawa\",\r\n        \"to\": \"45\",\r\n        \"toCity\": \"Wilno\",\r\n        \"elements\": [\r\n          { \"x\": 66.25, \"y\": 30.0187617260788 },\r\n          { \"x\": 69.125, \"y\": 26.82926829268293 },\r\n          { \"x\": 72.625, \"y\": 27.954971857410882 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"81\": {\r\n        \"id\": 81,\r\n        \"from\": \"32\",\r\n        \"fromCity\": \"Riga\",\r\n        \"to\": \"45\",\r\n        \"toCity\": \"Wilno\",\r\n        \"elements\": [\r\n          { \"x\": 67.5, \"y\": 13.883677298311445 },\r\n          { \"x\": 68.125, \"y\": 19.324577861163228 },\r\n          { \"x\": 70.5, \"y\": 23.452157598499063 },\r\n          { \"x\": 73.375, \"y\": 26.07879924953096 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"82\": {\r\n        \"id\": 82,\r\n        \"from\": \"41\",\r\n        \"fromCity\": \"Stockholm\",\r\n        \"to\": \"31\",\r\n        \"toCity\": \"Petrograd\",\r\n        \"elements\": [\r\n          { \"x\": 58.12500000000001, \"y\": 9.193245778611631 },\r\n          { \"x\": 60.62499999999999, \"y\": 7.879924953095685 },\r\n          { \"x\": 63.87500000000001, \"y\": 6.191369606003752 },\r\n          { \"x\": 67.625, \"y\": 6.191369606003752 },\r\n          { \"x\": 70.875, \"y\": 6.191369606003752 },\r\n          { \"x\": 74.5, \"y\": 6.191369606003752 },\r\n          { \"x\": 78, \"y\": 6.191369606003752 },\r\n          { \"x\": 81.5, \"y\": 7.5046904315197 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"83\": {\r\n        \"id\": 83,\r\n        \"from\": \"32\",\r\n        \"fromCity\": \"Riga\",\r\n        \"to\": \"31\",\r\n        \"toCity\": \"Petrograd\",\r\n        \"elements\": [\r\n          { \"x\": 70.5, \"y\": 10.506566604127581 },\r\n          { \"x\": 73.875, \"y\": 10.318949343339586 },\r\n          { \"x\": 77.375, \"y\": 9.943714821763603 },\r\n          { \"x\": 81, \"y\": 9.943714821763603 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"84\": {\r\n        \"id\": 84,\r\n        \"from\": \"45\",\r\n        \"fromCity\": \"Wilno\",\r\n        \"to\": \"31\",\r\n        \"toCity\": \"Petrograd\",\r\n        \"elements\": [\r\n          { \"x\": 76.5, \"y\": 25.70356472795497 },\r\n          { \"x\": 78.625, \"y\": 21.388367729831145 },\r\n          { \"x\": 80.625, \"y\": 17.26078799249531 },\r\n          { \"x\": 82.625, \"y\": 13.133208255159476 }\r\n        ],\r\n        \"color\": \"blue\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"85\": {\r\n        \"id\": 85,\r\n        \"from\": \"45\",\r\n        \"fromCity\": \"Wilno\",\r\n        \"to\": \"37\",\r\n        \"toCity\": \"Smolensk\",\r\n        \"elements\": [\r\n          { \"x\": 77.5, \"y\": 27.01688555347092 },\r\n          { \"x\": 79.875, \"y\": 24.953095684803 },\r\n          { \"x\": 82.625, \"y\": 27.954971857410882 }\r\n        ],\r\n        \"color\": \"yellow\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"86\": {\r\n        \"id\": 86,\r\n        \"from\": \"37\",\r\n        \"fromCity\": \"Smolensk\",\r\n        \"to\": \"21\",\r\n        \"toCity\": \"Kyiv\",\r\n        \"elements\": [\r\n          { \"x\": 85.625, \"y\": 33.771106941838646 },\r\n          { \"x\": 84.875, \"y\": 38.83677298311445 },\r\n          { \"x\": 81.5, \"y\": 40.71294559099437 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"87\": {\r\n        \"id\": 87,\r\n        \"from\": \"21\",\r\n        \"fromCity\": \"Kyiv\",\r\n        \"to\": \"19\",\r\n        \"toCity\": \"Kharkov\",\r\n        \"elements\": [\r\n          { \"x\": 79.75, \"y\": 44.46529080675422 },\r\n          { \"x\": 82.125, \"y\": 48.405253283302066 },\r\n          { \"x\": 85.5, \"y\": 49.71857410881801 },\r\n          { \"x\": 89.25, \"y\": 48.96810506566604 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"88\": {\r\n        \"id\": 88,\r\n        \"from\": \"19\",\r\n        \"fromCity\": \"Kharkov\",\r\n        \"to\": \"34\",\r\n        \"toCity\": \"Rostov\",\r\n        \"elements\": [\r\n          { \"x\": 94.5, \"y\": 48.405253283302066 },\r\n          { \"x\": 95.5, \"y\": 51.78236397748592 }\r\n        ],\r\n        \"color\": \"green\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"89\": {\r\n        \"id\": 89,\r\n        \"from\": \"34\",\r\n        \"fromCity\": \"Rostov\",\r\n        \"to\": \"36\",\r\n        \"toCity\": \"Sevastopol\",\r\n        \"elements\": [\r\n          { \"x\": 92.875, \"y\": 54.971857410881796 },\r\n          { \"x\": 89.5, \"y\": 54.03377110694184 },\r\n          { \"x\": 88, \"y\": 57.5984990619137 },\r\n          { \"x\": 87.5, \"y\": 62.851782363977485 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"90\": {\r\n        \"id\": 90,\r\n        \"from\": \"9\",\r\n        \"fromCity\": \"Bucuresti\",\r\n        \"to\": \"36\",\r\n        \"toCity\": \"Sevastopol\",\r\n        \"elements\": [\r\n          { \"x\": 75.5, \"y\": 61.72607879924953 },\r\n          { \"x\": 78.625, \"y\": 58.91181988742964 },\r\n          { \"x\": 82.25, \"y\": 59.849906191369605 },\r\n          { \"x\": 85.125, \"y\": 63.22701688555347 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"91\": {\r\n        \"id\": 91,\r\n        \"from\": \"34\",\r\n        \"fromCity\": \"Rostov\",\r\n        \"to\": \"39\",\r\n        \"toCity\": \"Sochi\",\r\n        \"elements\": [\r\n          { \"x\": 95.375, \"y\": 59.47467166979362 },\r\n          { \"x\": 95.125, \"y\": 64.54033771106941 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"92\": {\r\n        \"id\": 92,\r\n        \"from\": \"36\",\r\n        \"fromCity\": \"Sevastopol\",\r\n        \"to\": \"39\",\r\n        \"toCity\": \"Sochi\",\r\n        \"elements\": [\r\n          { \"x\": 89.25, \"y\": 66.97936210131333 },\r\n          { \"x\": 92.5, \"y\": 67.7298311444653 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 1\r\n      },\r\n      \"93\": {\r\n        \"id\": 93,\r\n        \"from\": \"36\",\r\n        \"fromCity\": \"Sevastopol\",\r\n        \"to\": \"12\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"elements\": [\r\n          { \"x\": 85.5, \"y\": 70.1688555347092 },\r\n          { \"x\": 84.5, \"y\": 75.23452157598499 },\r\n          { \"x\": 82.125, \"y\": 77.11069418386491 },\r\n          { \"x\": 79.75, \"y\": 78.98686679174483 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 2\r\n      },\r\n      \"94\": {\r\n        \"id\": 94,\r\n        \"from\": \"36\",\r\n        \"fromCity\": \"Sevastopol\",\r\n        \"to\": \"16\",\r\n        \"toCity\": \"Erzurum\",\r\n        \"elements\": [\r\n          { \"x\": 86.875, \"y\": 70.1688555347092 },\r\n          { \"x\": 87.125, \"y\": 75.42213883677297 },\r\n          { \"x\": 88.5, \"y\": 80.48780487804879 },\r\n          { \"x\": 90.875, \"y\": 84.24015009380864 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 2\r\n      },\r\n      \"95\": {\r\n        \"id\": 95,\r\n        \"from\": \"39\",\r\n        \"fromCity\": \"Sochi\",\r\n        \"to\": \"16\",\r\n        \"toCity\": \"Erzurum\",\r\n        \"elements\": [\r\n          { \"x\": 94.625, \"y\": 72.79549718574108 },\r\n          { \"x\": 94.25, \"y\": 77.6735459662289 },\r\n          { \"x\": 93.625, \"y\": 82.92682926829268 }\r\n        ],\r\n        \"color\": \"red\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"96\": {\r\n        \"id\": 96,\r\n        \"from\": \"16\",\r\n        \"fromCity\": \"Erzurum\",\r\n        \"to\": \"2\",\r\n        \"toCity\": \"Angora\",\r\n        \"elements\": [\r\n          { \"x\": 93.75, \"y\": 90.0562851782364 },\r\n          { \"x\": 91.5, \"y\": 92.3076923076923 },\r\n          { \"x\": 88, \"y\": 91.55722326454033 }\r\n        ],\r\n        \"color\": \"black\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"97\": {\r\n        \"id\": 97,\r\n        \"from\": \"2\",\r\n        \"fromCity\": \"Angora\",\r\n        \"to\": \"12\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"elements\": [\r\n          { \"x\": 80.625, \"y\": 84.42776735459663 },\r\n          { \"x\": 83.375, \"y\": 87.4296435272045 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"98\": {\r\n        \"id\": 98,\r\n        \"from\": \"2\",\r\n        \"fromCity\": \"Angora\",\r\n        \"to\": \"38\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"elements\": [\r\n          { \"x\": 83.75, \"y\": 91.74484052532833 },\r\n          { \"x\": 80.25, \"y\": 93.62101313320825 },\r\n          { \"x\": 76.875, \"y\": 93.80863039399625 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"99\": {\r\n        \"id\": 99,\r\n        \"from\": \"37\",\r\n        \"fromCity\": \"Smolensk\",\r\n        \"to\": \"26\",\r\n        \"toCity\": \"Moskva\",\r\n        \"elements\": [\r\n          { \"x\": 87.5, \"y\": 30.206378986866795 },\r\n          { \"x\": 91, \"y\": 28.517823639774857 }\r\n        ],\r\n        \"color\": \"orange\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"100\": {\r\n        \"id\": 100,\r\n        \"from\": \"31\",\r\n        \"fromCity\": \"Petrograd\",\r\n        \"to\": \"26\",\r\n        \"toCity\": \"Moskva\",\r\n        \"elements\": [\r\n          { \"x\": 86.25, \"y\": 10.694183864915573 },\r\n          { \"x\": 89.5, \"y\": 13.320825515947469 },\r\n          { \"x\": 91.625, \"y\": 17.636022514071296 },\r\n          { \"x\": 92.625, \"y\": 23.076923076923077 }\r\n        ],\r\n        \"color\": \"white\",\r\n        \"locomotive\": 0\r\n      },\r\n      \"101\": {\r\n        \"id\": 101,\r\n        \"from\": \"26\",\r\n        \"fromCity\": \"Moskva\",\r\n        \"to\": \"19\",\r\n        \"toCity\": \"Kharkov\",\r\n        \"elements\": [\r\n          { \"x\": 94.25, \"y\": 30.0187617260788 },\r\n          { \"x\": 95.375, \"y\": 35.0844277673546 },\r\n          { \"x\": 95.125, \"y\": 40.52532833020638 },\r\n          { \"x\": 93.375, \"y\": 45.0281425891182 }\r\n        ],\r\n        \"color\": \"gray\",\r\n        \"locomotive\": 0\r\n      }\r\n    },\r\n    destinations: [\r\n      {\r\n        \"id\": \"1\",\r\n        \"from\": \"3\",\r\n        \"to\": \"2\",\r\n        \"fromCity\": \"Athina\",\r\n        \"toCity\": \"Angora\",\r\n        \"value\": \"5\",\r\n      },\r\n      {\r\n        \"id\": \"2\",\r\n        \"from\": \"10\",\r\n        \"to\": \"40\",\r\n        \"fromCity\": \"Budapest\",\r\n        \"toCity\": \"Sofia\",\r\n        \"value\": \"5\",\r\n      },\r\n      {\r\n        \"id\": \"3\",\r\n        \"from\": \"18\",\r\n        \"to\": \"20\",\r\n        \"fromCity\": \"Frankfurt\",\r\n        \"toCity\": \"Kobenhavn\",\r\n        \"value\": \"5\",\r\n      },\r\n      {\r\n        \"id\": \"4\",\r\n        \"from\": \"34\",\r\n        \"to\": \"16\",\r\n        \"fromCity\": \"Rostov\",\r\n        \"toCity\": \"Erzurum\",\r\n        \"value\": \"5\",\r\n      },\r\n      {\r\n        \"id\": \"5\",\r\n        \"from\": \"40\",\r\n        \"to\": \"38\",\r\n        \"fromCity\": \"Sofia\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"value\": \"5\",\r\n      },\r\n      {\r\n        \"id\": \"6\",\r\n        \"from\": \"21\",\r\n        \"to\": \"31\",\r\n        \"fromCity\": \"Kyiv\",\r\n        \"toCity\": \"Petrograd\",\r\n        \"value\": \"6\",\r\n      },\r\n      {\r\n        \"id\": \"7\",\r\n        \"from\": \"47\",\r\n        \"to\": \"7\",\r\n        \"fromCity\": \"Zurich\",\r\n        \"toCity\": \"Brindisi\",\r\n        \"value\": \"6\",\r\n      },\r\n      {\r\n        \"id\": \"8\",\r\n        \"from\": \"47\",\r\n        \"to\": \"10\",\r\n        \"fromCity\": \"Zurich\",\r\n        \"toCity\": \"Budapest\",\r\n        \"value\": \"6\",\r\n      },\r\n      {\r\n        \"id\": \"9\",\r\n        \"from\": \"43\",\r\n        \"to\": \"37\",\r\n        \"fromCity\": \"Warszawa\",\r\n        \"toCity\": \"Smolensk\",\r\n        \"value\": \"6\",\r\n      },\r\n      {\r\n        \"id\": \"10\",\r\n        \"from\": \"46\",\r\n        \"to\": \"7\",\r\n        \"fromCity\": \"Zagrab\",\r\n        \"toCity\": \"Brindisi\",\r\n        \"value\": \"6\",\r\n      },\r\n      {\r\n        \"id\": \"11\",\r\n        \"from\": \"30\",\r\n        \"to\": \"46\",\r\n        \"fromCity\": \"Paris\",\r\n        \"toCity\": \"Zagrab\",\r\n        \"value\": \"7\",\r\n      },\r\n      {\r\n        \"id\": \"12\",\r\n        \"from\": \"6\",\r\n        \"to\": \"25\",\r\n        \"fromCity\": \"Brest\",\r\n        \"toCity\": \"Marseille\",\r\n        \"value\": \"7\",\r\n      },\r\n      {\r\n        \"id\": \"13\",\r\n        \"from\": \"23\",\r\n        \"to\": \"5\",\r\n        \"fromCity\": \"London\",\r\n        \"toCity\": \"Berlin\",\r\n        \"value\": \"7\",\r\n      },\r\n      {\r\n        \"id\": \"14\",\r\n        \"from\": \"15\",\r\n        \"to\": \"30\",\r\n        \"fromCity\": \"Edinburgh\",\r\n        \"toCity\": \"Paris\",\r\n        \"value\": \"7\",\r\n      },\r\n      {\r\n        \"id\": \"15\",\r\n        \"from\": \"1\",\r\n        \"to\": \"29\",\r\n        \"fromCity\": \"Amsterdam\",\r\n        \"toCity\": \"Pamplona\",\r\n        \"value\": \"7\",\r\n      },\r\n      {\r\n        \"id\": \"16\",\r\n        \"from\": \"33\",\r\n        \"to\": \"38\",\r\n        \"fromCity\": \"Roma\",\r\n        \"toCity\": \"Smyrna\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"17\",\r\n        \"from\": \"28\",\r\n        \"to\": \"12\",\r\n        \"fromCity\": \"Palermo\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"18\",\r\n        \"from\": \"35\",\r\n        \"to\": \"36\",\r\n        \"fromCity\": \"Sarajevo\",\r\n        \"toCity\": \"Sevastopol\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"19\",\r\n        \"from\": \"24\",\r\n        \"to\": \"14\",\r\n        \"fromCity\": \"Madrid\",\r\n        \"toCity\": \"Dieppe\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"20\",\r\n        \"from\": \"4\",\r\n        \"to\": \"8\",\r\n        \"fromCity\": \"Barcelona\",\r\n        \"toCity\": \"Bruxelles\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"21\",\r\n        \"from\": \"30\",\r\n        \"to\": \"44\",\r\n        \"fromCity\": \"Paris\",\r\n        \"toCity\": \"Wien\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"22\",\r\n        \"from\": \"4\",\r\n        \"to\": \"27\",\r\n        \"fromCity\": \"Barcelona\",\r\n        \"toCity\": \"Munchen\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"23\",\r\n        \"from\": \"6\",\r\n        \"to\": \"42\",\r\n        \"fromCity\": \"Brest\",\r\n        \"toCity\": \"Venezia\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"24\",\r\n        \"from\": \"37\",\r\n        \"to\": \"34\",\r\n        \"fromCity\": \"Smolensk\",\r\n        \"toCity\": \"Rostov\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"25\",\r\n        \"from\": \"25\",\r\n        \"to\": \"17\",\r\n        \"fromCity\": \"Marseille\",\r\n        \"toCity\": \"Essen\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"26\",\r\n        \"from\": \"21\",\r\n        \"to\": \"39\",\r\n        \"fromCity\": \"Kyiv\",\r\n        \"toCity\": \"Sochi\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"27\",\r\n        \"from\": \"24\",\r\n        \"to\": \"47\",\r\n        \"fromCity\": \"Madrid\",\r\n        \"toCity\": \"Zurich\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"28\",\r\n        \"from\": \"5\",\r\n        \"to\": \"9\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"toCity\": \"Bucuresti\",\r\n        \"value\": \"8\",\r\n      },\r\n      {\r\n        \"id\": \"29\",\r\n        \"from\": \"8\",\r\n        \"to\": \"13\",\r\n        \"fromCity\": \"Bruxelles\",\r\n        \"toCity\": \"Danzig\",\r\n        \"value\": \"9\",\r\n      },\r\n      {\r\n        \"id\": \"30\",\r\n        \"from\": \"5\",\r\n        \"to\": \"33\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"toCity\": \"Roma\",\r\n        \"value\": \"9\",\r\n      },\r\n      {\r\n        \"id\": \"31\",\r\n        \"from\": \"2\",\r\n        \"to\": \"19\",\r\n        \"fromCity\": \"Angora\",\r\n        \"toCity\": \"Kharkov\",\r\n        \"value\": \"10\",\r\n      },\r\n      {\r\n        \"id\": \"32\",\r\n        \"from\": \"32\",\r\n        \"to\": \"9\",\r\n        \"fromCity\": \"Riga\",\r\n        \"toCity\": \"Bucuresti\",\r\n        \"value\": \"10\",\r\n      },\r\n      {\r\n        \"id\": \"33\",\r\n        \"from\": \"17\",\r\n        \"to\": \"21\",\r\n        \"fromCity\": \"Essen\",\r\n        \"toCity\": \"Kyiv\",\r\n        \"value\": \"10\",\r\n      },\r\n      {\r\n        \"id\": \"34\",\r\n        \"from\": \"42\",\r\n        \"to\": \"12\",\r\n        \"fromCity\": \"Venezia\",\r\n        \"toCity\": \"Constantinople\",\r\n        \"value\": \"10\",\r\n      },\r\n      {\r\n        \"id\": \"35\",\r\n        \"from\": \"23\",\r\n        \"to\": \"44\",\r\n        \"fromCity\": \"London\",\r\n        \"toCity\": \"Wien\",\r\n        \"value\": \"10\",\r\n      },\r\n      {\r\n        \"id\": \"36\",\r\n        \"from\": \"3\",\r\n        \"to\": \"45\",\r\n        \"fromCity\": \"Athina\",\r\n        \"toCity\": \"Wilno\",\r\n        \"value\": \"11\",\r\n      },\r\n      {\r\n        \"id\": \"37\",\r\n        \"from\": \"41\",\r\n        \"to\": \"44\",\r\n        \"fromCity\": \"Stockholm\",\r\n        \"toCity\": \"Wien\",\r\n        \"value\": \"11\",\r\n      },\r\n      {\r\n        \"id\": \"38\",\r\n        \"from\": \"5\",\r\n        \"to\": \"26\",\r\n        \"fromCity\": \"Berlin\",\r\n        \"toCity\": \"Moskva\",\r\n        \"value\": \"12\",\r\n      },\r\n      {\r\n        \"id\": \"39\",\r\n        \"from\": \"1\",\r\n        \"to\": \"45\",\r\n        \"fromCity\": \"Amsterdam\",\r\n        \"toCity\": \"Wilno\",\r\n        \"value\": \"12\",\r\n      },\r\n      {\r\n        \"id\": \"40\",\r\n        \"from\": \"18\",\r\n        \"to\": \"37\",\r\n        \"fromCity\": \"Frankfurt\",\r\n        \"toCity\": \"Smolensk\",\r\n        \"value\": \"13\",\r\n      }\r\n    ],\r\n    longDestinations: [\r\n      {\r\n        \"id\": \"41\",\r\n        \"from\": \"22\",\r\n        \"to\": \"13\",\r\n        \"fromCity\": \"Lisboa\",\r\n        \"toCity\": \"Danzig\",\r\n        \"value\": \"20\",\r\n      },\r\n      {\r\n        \"id\": \"42\",\r\n        \"from\": \"6\",\r\n        \"to\": \"31\",\r\n        \"fromCity\": \"Brest\",\r\n        \"toCity\": \"Petrograd\",\r\n        \"value\": \"20\",\r\n      },\r\n      {\r\n        \"id\": \"43\",\r\n        \"from\": \"28\",\r\n        \"to\": \"26\",\r\n        \"fromCity\": \"Palermo\",\r\n        \"toCity\": \"Moskva\",\r\n        \"value\": \"20\",\r\n      },\r\n      {\r\n        \"id\": \"44\",\r\n        \"from\": \"20\",\r\n        \"to\": \"16\",\r\n        \"fromCity\": \"Kobenhavn\",\r\n        \"toCity\": \"Erzurum\",\r\n        \"value\": \"21\",\r\n      },\r\n      {\r\n        \"id\": \"45\",\r\n        \"from\": \"15\",\r\n        \"to\": \"3\",\r\n        \"fromCity\": \"Edinburgh\",\r\n        \"toCity\": \"Athina\",\r\n        \"value\": \"21\",\r\n      },\r\n      {\r\n        \"id\": \"46\",\r\n        \"from\": \"11\",\r\n        \"to\": \"41\",\r\n        \"fromCity\": \"Cadiz\",\r\n        \"toCity\": \"Stockholm\",\r\n        \"value\": \"21\",\r\n      }\r\n    ]\r\n}","import { useDispatch } from 'react-redux'\r\nimport { roomIsFull, setPlayerName, synchronize } from '../features/dataSlice'\r\nimport io from 'socket.io-client'\r\nimport { SettingsSystemDaydreamTwoTone } from '@material-ui/icons'\r\n\r\n\r\nlet store = null\r\nlet room = null\r\nlet socket = null\r\nlet playerId = null\r\nlet history = null\r\nlet roomFull = false\r\nlet creator = false\r\n\r\nexport function getRoomFull(){\r\n    return roomFull\r\n}\r\n\r\nexport function getOrCreateSocket() {\r\n\r\n    if(socket){\r\n        return socket\r\n    }\r\n\r\n    console.log('NEW SOCKET CREATED')\r\n\r\n    socket = io('http://webprogramozas.inf.elte.hu:3031')\r\n    return socket\r\n}\r\n\r\nexport function registerListenersOnSocket(_store, _history) {\r\n    if (!store) {\r\n        store = _store;\r\n        console.log(_store)\r\n    }\r\n\r\n    if (!history) {\r\n        history = _history;\r\n        console.log(_history)\r\n    }\r\n\r\n    if(!socket){\r\n        socket = getOrCreateSocket();\r\n    }else{\r\n        socket.on('create-room', (data) => {\r\n            console.log('ON ROOM CREATE')\r\n            console.log(data)\r\n        })\r\n    \r\n        socket.on('room-is-full', ({roomId, state, player}) => {\r\n            roomFull = true\r\n            store.dispatch(roomIsFull())\r\n            console.log('Room is full')\r\n            console.log(roomId, player)\r\n            playerId = player - 1\r\n            console.log('PlayerID:', playerId)\r\n        });\r\n    \r\n        socket.on('player-joined', () => {\r\n            if(creator){\r\n                socket.emit('sync-state', getRoomId(), store.getState().data, true, data => {\r\n                    console.log(data)\r\n                })\r\n            }\r\n            console.log('Player joined!')\r\n        })\r\n        \r\n        socket.on('state-changed', (newStore) => {\r\n            console.log('--- CHANGE STATE ---')\r\n            console.log(newStore)\r\n            store.dispatch(synchronize(newStore.state))\r\n            console.log('--- CHANGE STATE ---')\r\n        })\r\n    \r\n        socket.on('action-sent', ({action}) => {\r\n            console.log('SYNCED')\r\n            console.log(action)\r\n            switch(action.method){\r\n                case 'setPlayerName': {\r\n                    store.dispatch(setPlayerName({\r\n                        name: action.name\r\n                    }))\r\n                    break;\r\n                }\r\n    \r\n                default:{\r\n                    console.log('default')\r\n                    break\r\n                }\r\n            }\r\n        });\r\n    \r\n        socket.on('player-left', () => {\r\n            alert('Egy játékos elhagyta a játékot!')\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\nexport function wsCreateRoom(roomSize, name) {\r\n    if(!socket) return\r\n\r\n    socket.emit('create-room', parseInt(roomSize), data => {\r\n        if(data.status == 'ok'){\r\n            creator = true\r\n            console.log(data)\r\n            room = data.roomId\r\n            console.log('ROOM:', room)\r\n            store.dispatch(setPlayerName({\r\n                name: name\r\n            }))\r\n            \r\n            socket.emit('sync-state', getRoomId(), store.getState().data, true, data => {\r\n                console.log(data)\r\n            })\r\n            \r\n        }else{\r\n            console.log('ERROR')\r\n            console.log(data)\r\n        }\r\n\r\n        return data.status\r\n    })\r\n\r\n}\r\n\r\nexport function wsJoinRoom(roomId, playerName) {\r\n    if(!socket) return\r\n\r\n    console.log('SOCKET:', roomId)\r\n    room = roomId\r\n\r\n    socket.emit('join-room', roomId, (data) => {\r\n        if(data.status == 'ok'){\r\n            room = roomId\r\n            console.log('Joined')\r\n            \r\n            socket.emit('get-state', roomId, (data) => {\r\n                console.log('SYNCED STATE')\r\n                store.dispatch(synchronize(JSON.parse(data.state)))\r\n                \r\n                store.dispatch(setPlayerName({\r\n                    name: playerName\r\n                }))\r\n                \r\n                console.log('SYNC START')\r\n                socket.emit('sync-state', getRoomId(), store.getState().data, false, data => {\r\n                    console.log(data)\r\n                })\r\n                console.log('SYNC END')\r\n            })\r\n            \r\n        }else{\r\n            console.log('ERROR')\r\n            console.log(data)\r\n        }\r\n    })\r\n    \r\n    \r\n    \r\n}\r\n\r\nexport function leaveRoom(roomId) {\r\n    if(!socket) return\r\n\r\n    socket.emit('close-room', roomId, data => {\r\n        console.log(data)\r\n    })\r\n}\r\n\r\nexport function logStore(){\r\n    console.log(store.getState())\r\n}\r\n\r\nexport function synchronizeStep() {\r\n    console.log('STEPPED')\r\n    console.log(store.getState().data)\r\n    socket.emit('sync-state', getRoomId(), store.getState().data, true, data => {\r\n        console.log(data)\r\n    })\r\n}\r\n\r\nexport function getRoomId() {\r\n    console.log('RETURN ROOM:', room)\r\n    return room\r\n}\r\n\r\nexport function getPlayerId() {\r\n    return playerId\r\n}","import { StarRateTwoTone } from '@material-ui/icons';\r\nimport { createSlice } from '@reduxjs/toolkit'\r\nimport TrainDeck from '../Decks/TrainDeck';\r\nimport { ticketToRideData } from '../mapdata/MapData';\r\nimport {getPlayerId} from '../socket/ClientSocket'\r\n\r\nconst colors = ['Purple', 'Green', 'Blue', 'Yellow', 'Red', 'Joker', 'Orange', 'White', 'Black'] \r\nconst trainDeck = new TrainDeck(12, 14, colors)\r\n\r\nexport const dataSlice = createSlice({\r\n  name: 'data',\r\n  initialState: {\r\n    colors: colors,  \r\n    playerCount: 0,\r\n    playerHands: [],\r\n    trainCards: trainDeck.cards,\r\n    destinations: ticketToRideData.destinations,\r\n    longDestinations: ticketToRideData.longDestinations,\r\n    onBoardCards: [],\r\n    currentPlayer: 0,\r\n    playerGoals: [],\r\n    playerGoalOptions: [],\r\n    gameState: 'DESTINATION_CHOOSING',\r\n    drawedCards: 0,\r\n    selectedGoalIndex: 0,\r\n    hoveredData: {\r\n        'fromCity': '',\r\n        'toCity': ''\r\n    },\r\n    selectedFirstCity: '',\r\n    neighbourCities: [],\r\n    buyingArrays: [],\r\n    openBuyingOptions: false,\r\n    buyingOpts: [],\r\n    playerLines: [],\r\n    isHovering: false,\r\n    playerInfos: [],\r\n    bigLineData: [],\r\n    remainingRounds: null,\r\n    showCompleted: [],\r\n    throwDeck: [],\r\n    playersJoined: 0,\r\n    isRoomFull: false,\r\n    history: []\r\n  },\r\n  reducers: {\r\n    initNames: (state, action) => {\r\n        state.playerCount = action.payload\r\n        Array.from(Array(state.playerCount).keys()).map(i => {\r\n            state.bigLineData.push([])\r\n            state.playerInfos.push([])\r\n            const seed = Math.floor(Math.random() * 10000)\r\n            state.playerInfos[i] = {\r\n                name: '',\r\n                playerColor: colors[i],\r\n                playerScore: 0,\r\n                playerTrainCount: 3,\r\n                rounds: 0,\r\n                seed: seed\r\n            }\r\n        })\r\n    },\r\n    setPlayerCount: (state, action) => {\r\n        state.playerCount = action.payload\r\n    },\r\n    initPlayerHands: (state) => {\r\n        //clearing all players hand\r\n        state.playerHands = []\r\n        //state.bigLineData = []\r\n        state.currentPlayer = 0\r\n\r\n        Array.from(Array(state.playerCount).keys()).map(i => {\r\n            state.playerHands.push([])\r\n            state.playerLines.push([])\r\n            \r\n            //adding all colors as an object with the count of 0\r\n            Array.from(Array(state.colors.length).keys()).map(j => {\r\n                state.playerHands[i].push({\r\n                    'color': state.colors[j],\r\n                    'count': 0\r\n                })\r\n            })\r\n\r\n            //drawing 4 cards for all players\r\n            Array.from(Array(4).keys()).map(j => {\r\n                const drawed = state.trainCards.shift()\r\n                state.playerHands[i].filter(card => card.color == drawed)[0].count += 1\r\n            })\r\n        })\r\n\r\n        //shuffling destination cards\r\n        shuffle(state.destinations, 10)\r\n        shuffle(state.longDestinations, 10)\r\n    },\r\n    initOnBoardCars: (state) => {\r\n        state.onBoardCards = []\r\n        Array.from(Array(5).keys()).map(i => {\r\n            state.onBoardCards.push(state.trainCards.shift())\r\n        })\r\n    },\r\n    drawCardToBoard: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) return\r\n\r\n        if(state.gameState != 'IN_GAME' \r\n        || (action.payload.color == 'Joker' && state.drawedCards > 0)) return\r\n        if(action.payload.color == 'Cover'){\r\n            const drawed = state.trainCards.shift()\r\n            if(state.trainCards.length == 0){\r\n                generateDeck(state)\r\n            }\r\n            state.playerHands[state.currentPlayer].filter(x => x.color == drawed)[0].count += 1\r\n            state.drawedCards++\r\n        }else{\r\n            state.playerHands[state.currentPlayer].filter(x => x.color == action.payload.color)[0].count += 1\r\n            state.onBoardCards[action.payload.idx] = state.trainCards.shift()\r\n            if(state.trainCards.length == 0){\r\n                generateDeck(state)\r\n            }\r\n            if(action.payload.color == 'Joker'){\r\n               state.history.push('' + state.playerInfos[state.currentPlayer].name + ' Jokert húzott!')\r\n               nextPlayer(state)\r\n            }else{\r\n                state.drawedCards++\r\n            }\r\n        }\r\n        \r\n        if(state.trainCards.length == 0){\r\n            generateDeck(state)\r\n        }\r\n        \r\n        if(state.drawedCards == 2){\r\n            state.history.push('' + state.playerInfos[state.currentPlayer].name + ' két kártyát húzott!')\r\n            nextPlayer(state)\r\n        }\r\n\r\n        while(state.onBoardCards.filter(x => x == 'Joker').length >= 3){\r\n            //state.trainCards.concat(state.onBoardCards)\r\n            state.throwDeck.concat(state.onBoardCards)\r\n            state.onBoardCards = []\r\n            Array.from(Array(5).keys()).map(i => {\r\n                if(state.trainCards.length == 0){\r\n                    generateDeck(state)\r\n                }\r\n                state.onBoardCards.push(state.trainCards.shift())\r\n            })\r\n        }\r\n    },\r\n    drawLongDestinations: state => {\r\n        state.playerGoals = []\r\n        Array.from(Array(state.playerCount).keys()).map(i => {\r\n            state.playerGoals.push([])\r\n            let item = state.longDestinations.shift()\r\n            item.completed = false\r\n            state.playerGoals[i].push(item) \r\n        })\r\n    },\r\n    drawGoalOptionsForAllPlayers: (state) => {\r\n        state.playerGoalOptions = []\r\n        Array.from(Array(state.playerCount).keys()).map(i => {\r\n            state.playerGoalOptions.push([])\r\n            Array.from(Array(3).keys()).map(j => {\r\n                let item = state.destinations.shift()\r\n                item.completed = false\r\n                state.playerGoalOptions[i].push(item)\r\n            })\r\n        })\r\n    },\r\n    acceptDestinations: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) {\r\n            alert('Nem te vagy soron!')\r\n        }\r\n\r\n        console.log(state.playerGoals[state.currentPlayer])\r\n        \r\n        //adding the selected cards to the active players goals\r\n        state.playerGoals[state.currentPlayer] = state.playerGoals[state.currentPlayer].concat(action.payload.selected)\r\n        \r\n        //putting back the unused options\r\n        state.destinations = state.destinations.concat(action.payload.returnToDeck)\r\n        state.playerInfos[state.currentPlayer].rounds++\r\n        state.currentPlayer++\r\n        if(state.gameState == 'DESTINATION_IN_GAME'){\r\n            state.gameState = 'IN_GAME'\r\n        }\r\n        else if(state.currentPlayer == state.playerCount){\r\n            state.gameState = 'IN_GAME'\r\n            state.destinations = state.destinations.concat(state.longDestinations)\r\n            state.longDestinations = []\r\n            shuffle(state.destinations, 10)\r\n        }\r\n        //nextPlayer(state)\r\n        state.currentPlayer %= state.playerCount\r\n        state.history.push('' + state.playerInfos[state.currentPlayer]?.name + ' célkártyákat húzott!')\r\n    },\r\n    stepSelectedGoalIndex: (state, action) => {\r\n        state.selectedGoalIndex += action.payload\r\n        state.selectedGoalIndex = mod(state.selectedGoalIndex, state.playerGoals[state.currentPlayer].length)\r\n        \r\n        const fromCity = state.playerGoals[state.currentPlayer][state.selectedGoalIndex].fromCity\r\n        const toCity = state.playerGoals[state.currentPlayer][state.selectedGoalIndex].toCity\r\n        const completed = state.playerGoals[state.currentPlayer][state.selectedGoalIndex]?.completed\r\n\r\n        if(completed == true){\r\n            for(let i = 0; i < state.bigLineData[state.currentPlayer].length; ++i){\r\n                const item = state.bigLineData[state.currentPlayer][i]\r\n                if(item.data.includes(fromCity) && item.data.includes(toCity)){\r\n                    const filtered = state.playerLines[state.currentPlayer].filter(x => item.data.includes(x.fromCity) && item.data.includes(x.fromCity))\r\n                    console.log('FILTERED')\r\n                    console.log(filtered)\r\n                    state.showCompleted = filtered \r\n                    break\r\n                }\r\n            }\r\n        }else{\r\n            state.showCompleted = []\r\n        }\r\n    },\r\n    setHoveredData: (state, action) => {\r\n        state.hoveredData.fromCity = action.payload.from\r\n        state.hoveredData.toCity = action.payload.to\r\n    },\r\n    selectFirstCity: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) return\r\n\r\n        if(state.drawedCards > 0 || state.gameState != 'IN_GAME') return\r\n        state.selectedFirstCity = state.selectedFirstCity == action.payload ? '' : action.payload\r\n        state.neighbourCities = []\r\n        state.buyingArrays = []\r\n        if(selectFirstCity == '') return\r\n        let newItems = []\r\n        for(let i = 1; i <= Object.keys(ticketToRideData.connections).length; ++i){\r\n            const item = ticketToRideData.connections[i]\r\n            const minJokers = ticketToRideData.connections[i]?.locomotive ? ticketToRideData.connections[i].locomotive : 0\r\n            \r\n            if(item?.fromCity == state.selectedFirstCity\r\n                && canPayForIt(state.playerHands[state.currentPlayer], item.color, item.elements.length, minJokers)){\r\n                newItems.push(item.toCity)\r\n                console.log(item.toCity)\r\n                state.buyingArrays.push({\r\n                    city: item.toCity,\r\n                    options: canPayForIt(state.playerHands[state.currentPlayer], item.color, item.elements.length, minJokers),\r\n                    color: item.color\r\n                })\r\n            }\r\n            if(item?.toCity == state.selectedFirstCity\r\n                && canPayForIt(state.playerHands[state.currentPlayer], item.color, item.elements.length, minJokers)){\r\n                newItems.push(item.fromCity)\r\n                console.log(item.fromCity)\r\n                state.buyingArrays.push({\r\n                    city: item.fromCity,\r\n                    options: canPayForIt(state.playerHands[state.currentPlayer], item.color, item.elements.length, minJokers),\r\n                    color: item.color\r\n                })\r\n            }\r\n        }\r\n\r\n        let deleteableIndexes = []\r\n        for(let i = 0; i < state.buyingArrays.length; ++i){\r\n            const data = state.buyingArrays[i].options\r\n            for(let j = 0; j < data.length; ++j){\r\n                let equals = true\r\n                for(let k = j + 1; k < data.length; ++k){\r\n                    if(data[j].color != data[k].color || data[j].count != data[k].count) equals = false\r\n                }\r\n                if(equals) deleteableIndexes.push({\r\n                    'i': i,\r\n                    'j': j\r\n                })\r\n            }\r\n        }\r\n\r\n        [deleteableIndexes].reverse().map(({i, j}) => {\r\n            state.buyingArrays[i]?.options.splice(j, 1)\r\n        })\r\n\r\n        //delete indexes, which are already bought from someone\r\n        let deleteIndexes = []\r\n        let blacklist = []\r\n        for(let i = 0; i < state.buyingArrays.length; ++i){\r\n            for(let j = 0; j < state.playerLines.length; ++j){\r\n                for(let k = 0; k < state.playerLines[j].length; ++k){\r\n                    if(state.playerLines[j][k].fromCity == state.buyingArrays[i].city\r\n                        && state.playerLines[j][k].toCity == state.selectedFirstCity\r\n                        && state.playerLines[j][k].trainColor == state.buyingArrays[i].color\r\n                        && blacklist.filter((item) => item.j == j && item.k == k).length == 0\r\n                    ){\r\n                        console.log(state.playerLines[j][k])\r\n                        console.log(state.buyingArrays[i])\r\n                        deleteIndexes.push(i)\r\n                        blacklist.push({'j': j, 'k': k})\r\n                    }\r\n                    else if(state.playerLines[j][k].toCity == state.buyingArrays[i].city\r\n                        && state.playerLines[j][k].fromCity == state.selectedFirstCity\r\n                        && state.playerLines[j][k].trainColor == state.buyingArrays[i].color\r\n                        && blacklist.filter((item) => item.j == j && item.k == k).length == 0\r\n                    ){\r\n                        console.log(state.playerLines[j][k])\r\n                        console.log(state.buyingArrays[i])\r\n                        deleteIndexes.push(i)\r\n                        blacklist.push({'j': j, 'k': k})\r\n                    }\r\n                    else if(state.playerLines[j][k].fromCity == state.buyingArrays[i].city\r\n                        && state.playerLines[j][k].toCity == state.selectedFirstCity\r\n                        && state.playerLines[j][k].color == colors[state.currentPlayer])\r\n                    {\r\n                        console.log(state.playerLines[j][k])\r\n                        console.log(state.buyingArrays[i])\r\n                        deleteIndexes.push(i)\r\n                        blacklist.push({'j': j, 'k': k})\r\n                    }else if(state.playerLines[j][k].toCity == state.buyingArrays[i].city\r\n                        && state.playerLines[j][k].fromCity == state.selectedFirstCity\r\n                        && state.playerLines[j][k].color == colors[state.currentPlayer]\r\n                    ){\r\n                        console.log(state.playerLines[j][k])\r\n                        console.log(state.buyingArrays[i])\r\n                        deleteIndexes.push(i)\r\n                        blacklist.push({'j': j, 'k': k})\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        [...new Set(deleteIndexes)].reverse().map(index => {\r\n            console.log('OUT: ')\r\n            console.log(state.buyingArrays[index])\r\n            state.buyingArrays.splice(index, 1)\r\n            newItems.splice(index, 1)\r\n        })\r\n        state.neighbourCities = state.neighbourCities.concat([...new Set(newItems)])\r\n    },\r\n    selectSecondCity: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) return\r\n\r\n        if(state.selectedFirstCity == '') return\r\n        state.buyingOpts = state.buyingArrays.filter(arr => arr.city == action.payload)\r\n        state.openBuyingOptions = true\r\n    },\r\n    build: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) return\r\n\r\n        state.openBuyingOptions = false\r\n        if(action.payload == undefined) return\r\n        const boughtWith = state.buyingOpts[action.payload.i].options[action.payload.j] //state.buyingOpts.options[action.payload]\r\n        console.log(boughtWith)\r\n        boughtWith.map(item => {\r\n            Array.from(Array(item.count).keys()).map(i => {\r\n                const color = item.color.capitalize()\r\n                state.throwDeck.push(color)\r\n            })\r\n        })\r\n        /*we have to check the color on the map\r\n        Option1: the color is the one we are paying with\r\n        Option2: it is a gray trainColor and we are paying with a random trainColor\r\n        */\r\n       let trainColor = ''\r\n        if(boughtWith[0].color != 'Joker'){\r\n            trainColor = boughtWith[0].color\r\n        }else{\r\n            trainColor = boughtWith[1].color\r\n        }\r\n        \r\n        let buildedValue = 0\r\n        let isPossibleColor = false\r\n        for(let i = 1; i <= Object.keys(ticketToRideData.connections).length; ++i){\r\n            if((ticketToRideData.connections[i].fromCity == state.selectedFirstCity && ticketToRideData.connections[i].toCity == state.buyingOpts[action.payload.i].city) || (ticketToRideData.connections[i].toCity == state.selectedFirstCity && ticketToRideData.connections[i].fromCity == state.buyingOpts[action.payload.i].city)){\r\n                buildedValue = ticketToRideData.connections[i].elements.length\r\n                console.log('ÁRAK MEGTALÁLVA')\r\n                console.log(ticketToRideData.connections[i].elements)\r\n                console.log(buildedValue)\r\n                //trainColor = ticketToRideData.connections[i].color\r\n                if(ticketToRideData.connections[i].color == trainColor) isPossibleColor = true\r\n            }\r\n        }\r\n        if(state.playerInfos[state.currentPlayer].playerTrainCount < buildedValue) return\r\n\r\n        state.playerInfos[state.currentPlayer].playerTrainCount -= buildedValue\r\n        state.playerInfos[state.currentPlayer].playerScore += parseInt(pointCounter(buildedValue))\r\n\r\n        if(state.playerInfos[state.currentPlayer].playerTrainCount <= 2 && state.remainingRounds == null){\r\n            state.remainingRounds = 1\r\n        }\r\n\r\n        state.playerHands[state.currentPlayer].filter(x => x.color == boughtWith[0].color.capitalize())[0].count -= boughtWith[0].count\r\n        state.playerHands[state.currentPlayer].filter(x => x.color == boughtWith[1].color.capitalize())[0].count -= boughtWith[1].count\r\n        \r\n        if(!isPossibleColor) trainColor = 'gray'\r\n        //alert(state.selectedFirstCity)\r\n        state.playerLines[state.currentPlayer].push({\r\n            fromCity: state.selectedFirstCity,\r\n            toCity: state.buyingOpts[action.payload.i].city,\r\n            color: colors[state.currentPlayer],\r\n            trainColor: action.payload.color\r\n        })\r\n\r\n        const appendable = {\r\n            fromCity: state.selectedFirstCity,\r\n            toCity: state.buyingOpts[action.payload.i].city\r\n        }\r\n\r\n        //algorithm to concat cities\r\n        let breaked = false\r\n        const upperBound = state.bigLineData.length > 0 ? state.bigLineData[state.currentPlayer].length : 0\r\n        for(let i = 0; i < upperBound; ++i){\r\n            const set = state.bigLineData[state.currentPlayer][i]\r\n            if(set.data.includes(appendable.fromCity)){\r\n                set.data.push(appendable.toCity)\r\n                set.value += buildedValue\r\n                breaked = true\r\n                break\r\n            }else if(set.data.includes(appendable.toCity)){\r\n                set.data.push(appendable.fromCity)\r\n                set.value += buildedValue\r\n                breaked = true\r\n                break\r\n            }\r\n        }\r\n        if(!breaked){\r\n            const arr = [appendable.fromCity, appendable.toCity]\r\n            state.bigLineData[state.currentPlayer].push({\r\n                data: arr,\r\n                value: buildedValue\r\n            })\r\n        }\r\n        let indexes = [-1, -1]\r\n        for(let i = 0; i < state.bigLineData[state.currentPlayer].length; ++i){\r\n            for(let j = 0; j < state.bigLineData[state.currentPlayer][i].data.length; ++j){\r\n                for(let k = i + 1; k < state.bigLineData[state.currentPlayer].length; ++k){\r\n                    //console.log(state.bigLineData[state.currentPlayer][k])\r\n                    //console.log(state.bigLineData[state.currentPlayer][i].data[j])\r\n                    //console.log('-----------')\r\n                    if(state.bigLineData[state.currentPlayer][k].data.includes(state.bigLineData[state.currentPlayer][i].data[j])){\r\n                        indexes[0] = i\r\n                        indexes[1] = k\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(indexes[0] != -1 && indexes[1] != -1){\r\n            state.bigLineData[state.currentPlayer][indexes[0]].data = [...new Set(state.bigLineData[state.currentPlayer][indexes[0]].data.concat(state.bigLineData[state.currentPlayer][indexes[1]].data))]\r\n            state.bigLineData[state.currentPlayer][indexes[0]].value += state.bigLineData[state.currentPlayer][indexes[1]].value\r\n            state.bigLineData[state.currentPlayer].splice(indexes[1], 1)\r\n        }\r\n\r\n        for(let i = 0; i < state.bigLineData[state.currentPlayer].length; ++i){\r\n            const data = state.bigLineData[state.currentPlayer][i].data\r\n            for(let j = 0; j < state.playerGoals[state.currentPlayer].length; ++j){\r\n                const currentGoal = state.playerGoals[state.currentPlayer][j]\r\n                if(data && data.includes(currentGoal.fromCity) && data.includes(currentGoal.toCity) \r\n                    && state.playerGoals[state.currentPlayer][j].completed == false){\r\n                    state.playerGoals[state.currentPlayer][j].completed = true\r\n                    state.playerInfos[state.currentPlayer].playerScore += parseInt(state.playerGoals[state.currentPlayer][j].value)\r\n                }\r\n            }\r\n        }\r\n\r\n        state.buyingOpts = []\r\n        state.selectedFirstCity = ''\r\n        state.history.push('' + state.playerInfos[state.currentPlayer].name + ' útvonalat épített!')\r\n        nextPlayer(state)\r\n    },\r\n    hoveringGoal: (state, action) => {\r\n        state.isHovering = action.payload\r\n    },\r\n    drawDestinationsInGame: (state, action) => {\r\n        if(state.currentPlayer != getPlayerId()) return\r\n\r\n        if(state.gameState != 'IN_GAME' || state.drawedCards > 0) return\r\n        if(state.destinations.length == 0) return\r\n        state.gameState = 'DESTINATION_IN_GAME'\r\n        state.playerGoalOptions[state.currentPlayer] = []\r\n        Array.from(Array(state.destinations.length < 3 ? state.destinations.length : 3).keys()).map(i => {\r\n            state.playerGoalOptions[state.currentPlayer].push(state.destinations.shift())\r\n        })\r\n    },\r\n    setPlayerName: (state, action) => {\r\n        for(let i = 0; i < state.playerInfos.length; ++i){\r\n            if(state.playerInfos[i].name == '' || state.playerInfos[i].name == undefined){\r\n                state.playerInfos[i].name = action.payload.name\r\n                state.playersJoined++\r\n                console.log('SETTING NAME')\r\n                break\r\n            }\r\n        }\r\n    },\r\n    playerLeaved: (state, action) => {\r\n        for(let i = 0; i < state.playerInfos.length; ++i){\r\n            if(state.playerInfos[i].name == action.payload.name){\r\n                state.playerInfos[i].name = ''\r\n                state.playersJoined--\r\n            }\r\n        }\r\n    },\r\n    roomIsFull: (state) => {\r\n        console.log('SLICE ROOM SET TO FULL')\r\n        if(!state.isRoomFull)\r\n            state.isRoomFull = true\r\n    },\r\n    synchronize: (state, action) => {\r\n        state.trainCards        = action.payload.trainCards\r\n        state.drawedCards       = action.payload.drawedCards\r\n        state.playerGoalOptions = action.payload.playerGoalOptions\r\n        state.bigLineData       = action.payload.bigLineData\r\n        state.currentPlayer     = action.payload.currentPlayer\r\n        state.destinations      = action.payload.destinations\r\n        state.longDestinations  = action.payload.longDestinations\r\n        state.isRoomFull        = action.payload.isRoomFull\r\n        state.onBoardCards      = action.payload.onBoardCards\r\n        state.throwDeck         = action.payload.throwDeck\r\n        state.playerInfos       = action.payload.playerInfos\r\n        state.playerGoals       = action.payload.playerGoals\r\n        state.drawedCards       = action.payload.drawedCards\r\n        state.playerHands       = action.payload.playerHands\r\n        state.playerCount       = action.payload.playerCount\r\n        state.gameState         = action.payload.gameState\r\n        state.playerLines       = action.payload.playerLines\r\n        state.history           = action.payload.history\r\n    }\r\n}\r\n});\r\n\r\nfunction nextPlayer(state){\r\n    state.playerInfos[state.currentPlayer].rounds++\r\n    state.currentPlayer++\r\n    if(state.currentPlayer == state.playerCount && state.remainingRounds == 0){\r\n        state.gameState = 'END_GAME'\r\n        let maximums = Array(state.playerCount)\r\n        for(let i = 0; i < state.bigLineData.length; ++i){\r\n            for(let j = 0; j < state.bigLineData[i].length; ++j){\r\n                const item = state.bigLineData[i][j]\r\n\r\n                if(item.value > (maximums[i] == undefined ? 0 : maximums[i])){\r\n                    maximums[i] = item.value\r\n                }\r\n            }\r\n        }\r\n        for(let i = 0; i < maximums.length; ++i){\r\n            state.playerInfos[i].longestTrain = maximums[i]\r\n        }\r\n        let maxValue = maximums.reduce((a, b) => b > a ? b : a)\r\n        maximums.map((value, index) => {\r\n            if(value == maxValue){\r\n                state.playerInfos[index].playerScore += 10\r\n            }\r\n        })\r\n    }\r\n    if(state.currentPlayer == state.playerCount && state.remainingRounds == 1){\r\n        state.remainingRounds = 0\r\n    }\r\n    state.currentPlayer %= state.playerCount\r\n    state.hoveredData = {\r\n        'fromCity': '',\r\n        'toCity': ''\r\n    }\r\n    state.selectedGoalIndex = 0\r\n    state.selectedFirstCity = ''\r\n    state.buyingOpts = []\r\n    state.isHovering = false\r\n    state.neighbourCities = []\r\n    state.drawedCards = 0\r\n}\r\n\r\nfunction shuffle(array, times) {\r\n    for(let i = 0; i < times; ++i) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n    }\r\n}\r\n\r\nfunction mod(n, m) {\r\n    return ((n % m) + m) % m\r\n}\r\n\r\nfunction canPayForIt(cardsInHand, color, length, minJokers){\r\n    \r\n    let result = []\r\n\r\n    if(color != 'gray'){\r\n        console.log(color)\r\n        const matchingCards = cardsInHand.filter(x => x.color == color.capitalize()).length > 0  ? cardsInHand.filter(x => x.color == color.capitalize())[0].count : 0\r\n        const jokerCards = cardsInHand.filter(x => x.color == 'Joker').length > 0  ? cardsInHand.filter(x => x.color == 'Joker')[0].count : 0\r\n        console.log(matchingCards + jokerCards)\r\n        if((matchingCards + jokerCards) >= length){\r\n                console.log('IGAZ')\r\n                for(let i = 0; i <= length; ++i){\r\n                    if(matchingCards >= length - i && jokerCards >= i && jokerCards >= minJokers){\r\n                        let array = []\r\n                        array.push({\r\n                            'color': color,\r\n                            'count': length - i\r\n                        })\r\n                        array.push({\r\n                            'color': 'Joker',\r\n                            'count': i\r\n                        })\r\n                        result.push(array)\r\n                    }\r\n                }\r\n                for(let i = 0; i < result.length; ++i){\r\n                    result[i] = [...new Set(result[i])]\r\n                }\r\n                return result\r\n        }else{\r\n            return false\r\n        }\r\n    }else{\r\n        colors.filter(ccolor => ccolor != 'Joker').map(ccolor => {\r\n            const matchingCards = cardsInHand.filter(x => x.color == ccolor.capitalize()).length > 0  ? cardsInHand.filter(x => x.color == ccolor.capitalize())[0].count : 0\r\n            const jokerCards = cardsInHand.filter(x => x.color == 'Joker').length > 0  ? cardsInHand.filter(x => x.color == 'Joker')[0].count : 0\r\n            console.log(matchingCards + jokerCards)\r\n            if((matchingCards + jokerCards) >= length){\r\n                    console.log('IGAZ')\r\n                    for(let i = 0; i <= length; ++i){\r\n                        if(matchingCards >= length - i && jokerCards >= i && jokerCards >= minJokers){\r\n                            let array = []\r\n                            array.push({\r\n                                'color': ccolor,\r\n                                'count': length - i\r\n                            })\r\n                            array.push({\r\n                                'color': 'Joker',\r\n                                'count': i\r\n                            })\r\n                            result.push(array)\r\n                        }\r\n                    }\r\n                }\r\n            for(let i = 0; i < result.length; ++i){\r\n                result[i] = [...new Set(result[i])]\r\n            }\r\n        })\r\n        if(result.length == 0){\r\n            return false\r\n        }else{\r\n            return result\r\n        }\r\n    }\r\n}\r\n\r\nfunction notBoughtFromOthers(city, playerLines, color) {\r\n    playerLines.map(player => {\r\n        player.map(line => {\r\n            if(line.city == city && line.color == color) return false\r\n        })\r\n    })\r\n    return true\r\n}\r\n\r\nfunction pointCounter(length){\r\n    switch(length){\r\n        case 1:\r\n            return 1;\r\n            break;\r\n        case 2:\r\n            return 2;\r\n            break;\r\n        case 3:\r\n            return 4;\r\n            break;\r\n        case 4:\r\n            return 7;\r\n            break;\r\n        case 6:\r\n            return 15;\r\n            break;\r\n        case 8:\r\n            return 21;\r\n            break;\r\n    }\r\n}\r\n\r\nfunction generateDeck(state) {\r\n    shuffle(state.throwDeck, 10)\r\n    state.trainCards = state.throwDeck\r\n    state.throwDeck = []\r\n}\r\n\r\nString.prototype.capitalize = function() {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n}\r\n\r\nexport const { \r\n    setPlayerCount, \r\n    initPlayerHands, \r\n    initOnBoardCars, \r\n    drawCardToBoard,\r\n    drawLongDestinations,\r\n    drawGoalOptionsForAllPlayers,\r\n    acceptDestinations,\r\n    stepSelectedGoalIndex,\r\n    setHoveredData,\r\n    selectFirstCity,\r\n    selectSecondCity,\r\n    build,\r\n    hoveringGoal,\r\n    drawDestinationsInGame,\r\n    setPlayerName,\r\n    playerLeaved,\r\n    initNames,\r\n    roomIsFull,\r\n    synchronize\r\n } = dataSlice.actions\r\n\r\nexport const onBoardCards           = state => state.data.onBoardCards\r\nexport const trainDeckLength        = state => state.data.trainCards.length\r\nexport const goalDeckLength         = state => state.data.destinations.length + state.data.longDestinations.length\r\nexport const currentGoalCards       = state => state.data.playerGoalOptions[state.data.currentPlayer]\r\nexport const gameState              = state => state.data.gameState\r\nexport const actualPlayerHand       = state => state.data.playerHands[state.data.currentPlayer]\r\nexport const actualPlayerGoals      = state => state.data.playerGoals[state.data.currentPlayer]\r\nexport const actualGoalIndex        = state => state.data.selectedGoalIndex\r\nexport const hoveredData            = state => state.data.hoveredData\r\nexport const selectedFirstCity      = state => state.data.selectedFirstCity\r\nexport const neighbourCitiesData    = state => state.data.neighbourCities\r\nexport const buyingOpts             = state => state.data.buyingOpts\r\nexport const openBuying             = state => state.data.openBuyingOptions\r\nexport const playerLines            = state => state.data.playerLines\r\nexport const isHovering             = state => state.data.isHovering\r\nexport const playerInfos            = state => state.data.playerInfos\r\nexport const allPlayerHand          = state => state.data.playerHands\r\nexport const allGoals               = state => state.data.playerGoals\r\nexport const currentIdx             = state => state.data.currentPlayer\r\nexport const showCompletedLine      = state => state.data.showCompleted\r\nexport const isRoomFull             = state => state.data.isRoomFull\r\nexport const playersJoined          = state => state.data.playersJoined\r\nexport const history                = state => state.data.history\r\n\r\nexport const ownPlayerHand = state => state.data.playerHands[getPlayerId()]\r\nexport const ownPlayerGoalOptions = state => state.data.playerGoalOptions[getPlayerId()]\r\nexport const ownPlayerGoals = state => state.data.playerGoals[getPlayerId()]\r\n\r\nexport default dataSlice.reducer","import React, { useEffect, useState } from 'react'\r\nimport './GoalCard.css'\r\nimport { createStyles, makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { stepSelectedGoalIndex, hoveringGoal, actualGoalIndex } from '../../features/dataSlice'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n      justifyContent: 'center'\r\n    },\r\n    details: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n    content: {\r\n      flex: '1 0 auto',\r\n    },\r\n    cover: {\r\n      width: 151,\r\n    },\r\n    controls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      paddingBottom: theme.spacing(1),\r\n      justifyContent: 'center'\r\n    },\r\n    playIcon: {\r\n      height: 38,\r\n      width: 38,\r\n    },\r\n  }),\r\n);\r\n\r\n\r\nfunction GoalCard({data}) {\r\n\r\n    function mod(n, m) {\r\n        return ((n % m) + m) % m\r\n    }\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [actual, setActual] = useState(0);\r\n    const dispatch = useDispatch()\r\n    const goalIndex = useSelector(actualGoalIndex)\r\n\r\n    useEffect(() => {\r\n      setActual(goalIndex)\r\n    }, [goalIndex])\r\n    \r\n    function stepCities(x) {\r\n      setActual(mod(actual + x, data.length))\r\n      dispatch(stepSelectedGoalIndex(x))\r\n    }\r\n\r\n    function isHovering(){\r\n      dispatch(hoveringGoal(true))\r\n    }\r\n    \r\n    function leavingHover(){\r\n      dispatch(hoveringGoal(false))\r\n    }\r\n\r\n    return (\r\n        <div className=\"goalCards\"\r\n          onMouseEnter={() => isHovering()}\r\n          onMouseLeave={() => leavingHover()} >\r\n            <Card className={classes.root} on>\r\n                <div className={classes.details}>\r\n                    <CardContent className={classes.content}>\r\n                    <Typography component=\"h6\" variant=\"h6\">\r\n                        {data[actual]?.fromCity}\r\n\r\n                        -\r\n\r\n                        {data[actual]?.toCity}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        <p className=\"circle\">{data[actual]?.value}</p>\r\n                    </Typography>\r\n                    </CardContent>\r\n                    <div className={classes.controls}>\r\n                    <IconButton aria-label=\"previous\" onClick={() => stepCities(-1)}>\r\n                        <SkipPreviousIcon />\r\n                        {/*theme.direction === 'rtl' ? <SkipNextIcon /> : <SkipPreviousIcon />*/}\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <DoneAllIcon style={{color : data[actual]?.completed ? 'green' : 'black'}} />\r\n                    </IconButton>\r\n                    <IconButton aria-label=\"next\" onClick={() => stepCities(1)}>\r\n                        <SkipNextIcon />\r\n                        {/*theme.direction === 'rtl' ? <SkipPreviousIcon /> : <SkipNextIcon />*/}\r\n                    </IconButton>\r\n                    </div>\r\n                </div>\r\n                {/*<CardMedia className={classes.cover}>\r\n                    <DoneAllIcon style={{color : data[actual].completed ? 'green' : 'black'}} />\r\n                </CardMedia>*/}\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoalCard\r\n","import React, { useEffect, useState } from 'react'\r\nimport './CardInHand.css'\r\n\r\nfunction CardInHand({color, count, place}) {\r\n\r\n    return (\r\n        <div \r\n            className='cardInHand' \r\n            style={{transform: 'translateX('+ place*-20 +'%)'}}\r\n            >\r\n            <img src={process.env.PUBLIC_URL + '/Cards/' + color + \"CardR.jpg\"} alt=\"\"/>\r\n            {count > 1 && <p className=\"cardCount\">{count}</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardInHand\r\n","import React from 'react'\r\nimport CardInHand from './CardInHand'\r\nimport './PlayerHand.css'\r\n\r\nfunction PlayerHand({ cards }) {\r\n    return (\r\n        <div className=\"playerHand\">\r\n            {cards.filter(card => card.count > 0).map((card, idx) => {\r\n                return <CardInHand \r\n                            color={card.color.capitalize()} \r\n                            count={card.count} \r\n                            key={card.color + card.count}\r\n                            place={idx} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayerHand\r\n","import React, { useEffect, useState } from 'react'\r\nimport { createStyles, makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './DestinationCard.css'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setHoveredData } from '../../../features/dataSlice'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n      justifyContent: 'center'\r\n    },\r\n    details: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n    content: {\r\n      flex: '1 0 auto',\r\n    },\r\n  }),\r\n);\r\n\r\nfunction DestinationCard({from, to, points, clickAction, defaultSelection}) {\r\n\r\n    const classes = useStyles();\r\n    //const theme = useTheme();\r\n    const dispatch = useDispatch()\r\n\r\n    const [selected, setSelected] = useState(false)\r\n\r\n    useEffect(() => {\r\n      //setSelected(defaultSelection)\r\n    }, [defaultSelection])\r\n\r\n    const makeSelected = (e) => {\r\n      if(!selected){\r\n        e.target.closest('.MuiCard-root').classList.add('selected')\r\n      }else{\r\n        e.target.closest('.MuiCard-root').classList.remove('selected')\r\n      }\r\n      setSelected(!selected)\r\n      clickAction()\r\n    }\r\n\r\n    return (\r\n        <div \r\n            className=\"destCard\" \r\n            onClick={(e) => makeSelected(e)}\r\n            onMouseEnter={() => {dispatch(setHoveredData({\r\n              'from': from == undefined ? '' : from,\r\n              'to': to == undefined ? '' : to\r\n            }))\r\n            }} \r\n            onMouseLeave={() => dispatch(setHoveredData({\r\n              'from': '',\r\n              'to': ''\r\n            }))} >\r\n            <Card className={classes.root}>\r\n                <div className={classes.details}>\r\n                    <CardContent className={classes.content}>\r\n                    <Typography component=\"h6\" variant=\"h6\">\r\n                        {from}\r\n                        <br></br>\r\n                        -\r\n                        <br></br>\r\n                        {to}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        <p className=\"circle\">{points}</p>\r\n                    </Typography>\r\n                    </CardContent>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DestinationCard\r\n","import React, { useEffect, useState } from 'react'\r\nimport './DrawDestinationCards.css'\r\nimport DestinationCard from './DestinationCard'\r\nimport { ticketToRideData } from '../../../mapdata/MapData.js'\r\nimport { Button } from '@material-ui/core'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { acceptDestinations, currentGoalCards, ownPlayerGoalOptions } from '../../../features/dataSlice'\r\n\r\nimport {currentIdx} from '../../../features/dataSlice'\r\nimport {synchronizeStep, getRoomId, getPlayerId} from '../../../socket/ClientSocket'\r\n\r\nfunction DrawDestinationCards({clickEvent}) {\r\n\r\n    const [cards, setCards] = useState([])\r\n    const dispatch = useDispatch()\r\n    //const cardSelector = useSelector(currentGoalCards)\r\n    const cardSelector = useSelector(ownPlayerGoalOptions)\r\n    const cIdx = useSelector(currentIdx)\r\n\r\n    useEffect(() => {\r\n        console.log(cards)\r\n    }, [cards])\r\n\r\n    function addRemoveFromHand(card) {\r\n        const oldCards = cards\r\n        let newData = oldCards\r\n        if(cards.includes(card)){\r\n            setCards(cards.filter(item => item != card))\r\n             newData = oldCards.filter(item => item != card)            \r\n        }else{\r\n            setCards([...oldCards, card])\r\n        }\r\n    }\r\n\r\n    function acceptCards() {\r\n        const notWanted = cardSelector.filter(card => !cards.includes(card))\r\n        if(cIdx == getPlayerId()){\r\n            dispatch(acceptDestinations({\r\n                selected: cards,\r\n                returnToDeck: notWanted \r\n            }))\r\n            synchronizeStep()\r\n            setCards([])\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"drawDestinationCards\">\r\n            {cardSelector != undefined && cardSelector.map(i => {\r\n                return  <DestinationCard \r\n                            from={i.fromCity}\r\n                            to={i.toCity}\r\n                            points={i.value}\r\n                            clickAction={() => addRemoveFromHand(i)}\r\n                            defaultSelection=\"false\"\r\n                            key={i.id} />\r\n                \r\n            })}\r\n            <Button disabled={cards.length == 0} variant=\"contained\" color=\"primary\" onClick={acceptCards} >\r\n                Kész\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DrawDestinationCards\r\n","import React, { useState } from 'react'\r\nimport './DownSide.css'\r\nimport GoalCard from '../GoalCard'\r\nimport CardInHand from './CardInHand'\r\nimport PlayerHand from './PlayerHand'\r\nimport DrawDestinationCards from './DrawDestinationCards'\r\nimport { useSelector } from 'react-redux'\r\nimport { gameState, actualPlayerHand, actualPlayerGoals, ownPlayerHand, ownPlayerGoals, currentIdx } from '../../../features/dataSlice'\r\nimport { Button } from '@material-ui/core'\r\nimport { synchronizeStep, getPlayerId } from '../../../socket/ClientSocket'\r\n\r\nfunction useForceUpdate(){\r\n    const [value, setValue] = useState(0); // integer state\r\n    return () => setValue(value => value + 1); // update the state to force render\r\n}\r\n\r\nfunction DownSide() {\r\n\r\n    const forceUpdate = useForceUpdate()\r\n    const cardsInHand = useSelector(actualPlayerHand)\r\n    const cardsInHand2 = useSelector(ownPlayerHand)\r\n    const goalCards = useSelector(actualPlayerGoals)\r\n    const goalCards2 = useSelector(ownPlayerGoals)\r\n    const cIdx = useSelector(currentIdx)\r\n\r\n    const [begin, setBegin] = useState(false)\r\n    const earlyGameState = useSelector(gameState)\r\n\r\n    return (\r\n        <div className=\"downSide\">\r\n            {earlyGameState != 'DESTINATION_CHOOSING' && earlyGameState != 'DESTINATION_IN_GAME' &&\r\n            <GoalCard data={goalCards2} />}\r\n            {earlyGameState != 'DESTINATION_CHOOSING' && earlyGameState != 'DESTINATION_IN_GAME' && <PlayerHand cards={cardsInHand2} />}\r\n            {(earlyGameState == 'DESTINATION_CHOOSING' || earlyGameState == 'DESTINATION_IN_GAME') && <DrawDestinationCards clickEvent={() => {\r\n                if(cIdx == getPlayerId()){\r\n                    setBegin(true)\r\n                }\r\n                //synchronizeStep()\r\n            }}/>}\r\n            <Button onClick={() => {\r\n                forceUpdate()\r\n                synchronizeStep()\r\n            }}>UPDATE</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DownSide\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { DialogTitle } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport { history } from '../../../features/dataSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction GameHistory({ onClose, selectedValue, open }) {\r\n    \r\n    const classes = useStyles();\r\n    const historyFields = useSelector(history)\r\n\r\n    const handleClose = () => {\r\n        onClose(selectedValue)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n                <DialogTitle id=\"simple-dialog-title\">Előzmények</DialogTitle>\r\n                <List>\r\n                    {historyFields.slice(-2).map((item, idx) => {\r\n                        return <ListItem key={idx}>\r\n                                    <ListItemText primary={item} />\r\n                                </ListItem>\r\n                    })}\r\n                </List>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GameHistory","import React from 'react'\r\nimport { Avatar } from '@material-ui/core'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport './OpponentRow.css'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AdjustIcon from '@material-ui/icons/Adjust';\r\nimport TrainIcon from '@material-ui/icons/Train';\r\nimport ViewAgendaIcon from '@material-ui/icons/ViewAgenda';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nfunction OpponentRow({ playerColor, playerName, playerScore, playerCards, playerGoals, playerTrainCount, rounds, seed, isActive=false }) {\r\n\r\n    return (\r\n        <div className=\"opponentRow\" style={{backgroundColor: playerColor}}>\r\n            <div className=\"avatarHolder\" >\r\n                <Avatar style={{border: isActive ? '3px solid black' : ''}} src={`https://avatars.dicebear.com/4.5/api/human/${seed}.svg`} />\r\n                <h6>{playerName}</h6>\r\n                <h6>{playerScore}</h6>\r\n            </div>\r\n            <div className=\"playerInfos\">\r\n            <List>\r\n                <ListItem>\r\n                    <Badge badgeContent={rounds} color=\"primary\">\r\n                        <AdjustIcon />\r\n                    </Badge>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <Badge badgeContent={playerCards} color=\"primary\">\r\n                        <ViewAgendaIcon />\r\n                    </Badge>\r\n                </ListItem>\r\n            </List>\r\n            <List>\r\n                <ListItem>\r\n                    <Badge badgeContent={playerTrainCount} color=\"primary\">\r\n                        <TrainIcon />\r\n                    </Badge>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <Badge badgeContent={playerGoals} color=\"primary\">\r\n                        <ExploreIcon />\r\n                    </Badge>\r\n                </ListItem>\r\n            </List>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OpponentRow\r\n","import { Button } from '@material-ui/core';\r\nimport React, { useState, useEffect } from 'react'\r\nimport GameHistory from './GameHistory'\r\nimport OpponentRow from './OpponentRow/OpponentRow'\r\nimport './LeftPanel.css'\r\nimport { allGoals, allPlayerHand, currentIdx, playerInfos, gameState } from '../../../features/dataSlice'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nfunction LeftPanel() {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (value) => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const infos = useSelector(playerInfos)\r\n    const cards = useSelector(allPlayerHand)\r\n    const goals = useSelector(allGoals)\r\n    const currIdx = useSelector(currentIdx)\r\n    const gState = useSelector(gameState)\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if(gState == 'END_GAME'){\r\n            history.push('../../scoreboard')\r\n        }\r\n    }, [gState])\r\n    \r\n    return (\r\n        <div className=\"leftPanel\">\r\n\r\n            {infos.map((info, idx) => {\r\n                    console.log(cards[idx].map(x => x.count).reduce((a, b) => a + b))\r\n                    return <OpponentRow\r\n                                playerColor={info.playerColor} \r\n                                playerName={info.name}\r\n                                playerCards={cards[idx].map(x => x.count).reduce((a, b) => a + b)}\r\n                                playerGoals={goals[idx].length}\r\n                                playerTrainCount={info.playerTrainCount}\r\n                                playerScore={info.playerScore}\r\n                                rounds={info.rounds}\r\n                                seed={info.seed}\r\n                                isActive={idx == currIdx}\r\n                                key={idx}\r\n                                />\r\n                    })}\r\n            \r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n                Előzmények\r\n            </Button>\r\n            <GameHistory open={open} onClose={handleClose} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LeftPanel\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport './City.css'\r\nimport { \r\n    actualGoalIndex,\r\n    actualPlayerGoals,\r\n    hoveredData,\r\n    selectedFirstCity,\r\n    selectFirstCity,\r\n    neighbourCitiesData,\r\n    gameState,\r\n    selectSecondCity,\r\n    isHovering\r\n } from '../../../features/dataSlice'\r\n\r\nfunction City({x, y, name, modifier}) {\r\n\r\n    const [selected, setSelected] = useState(false)\r\n    const [isNeighbour, setIsNeighbour] = useState(false)\r\n    const [active, setActive] = useState(false)\r\n    const index = useSelector(actualGoalIndex)\r\n    const goals = useSelector(actualPlayerGoals)\r\n    const hoveredCities = useSelector(hoveredData)\r\n    const dispatch = useDispatch()\r\n    const selectedF = useSelector(selectedFirstCity)\r\n    const neighbours = useSelector(neighbourCitiesData)\r\n    const gameS = useSelector(gameState)\r\n    const currentlyHovered = useSelector(isHovering)\r\n\r\n    const makeSelected = (e) => {\r\n        e.stopPropagation()\r\n        if(neighbours.includes(name)){\r\n            dispatch(selectSecondCity(name))\r\n        }else{\r\n            dispatch(selectFirstCity(name))\r\n        }\r\n        if(selectedF != name){\r\n            setSelected(false)\r\n        }else{\r\n            setSelected(true)\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if(gameS == 'IN_GAME' && goals && goals.length > 0 && currentlyHovered){\r\n            if(goals[index].toCity == name || goals[index].fromCity == name){\r\n                //console.log(name)\r\n                setActive(true)\r\n            }else{\r\n                setActive(false)\r\n            }\r\n        }else{\r\n            setActive(false)\r\n        }\r\n    }, [currentlyHovered, goals, index, gameS])\r\n    \r\n    useEffect(() => {\r\n        if(hoveredCities.fromCity == name || hoveredCities.toCity == name){\r\n            //console.log(hoveredCities)\r\n            setActive(true)\r\n        }else{\r\n            setActive(false)\r\n        }\r\n    }, [hoveredCities])\r\n\r\n    useEffect(() => {\r\n        if(selectedF != name){\r\n            setSelected(false)\r\n        }else{\r\n            setSelected(true)\r\n        }\r\n    }, [selectedF])\r\n    \r\n    useEffect(() => {\r\n        if(!neighbours.includes(name)){\r\n            setIsNeighbour(false)\r\n        }else{\r\n            setIsNeighbour(true)\r\n        }\r\n    }, [neighbours])\r\n    \r\n    return (\r\n        <div \r\n        className={'city ' + name + ' ' + active + (selected ? ' selectedCity' : '') + (isNeighbour ? ' neighbour' : '') } \r\n        style={{position: 'absolute', top: y+'%', left: x+'%', zIndex:99999}}\r\n            onClick={(e) => makeSelected(e)} >\r\n            <p className={\"mapCity--name \" + modifier} onClick={(e) => makeSelected(e)} ><b>{name}</b></p>\r\n            <div className=\"circle\"></div>\r\n            <div className=\"selected\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default City\r\n","import React from 'react'\r\nimport './TrainRoute.css'\r\n\r\nfunction TrainRoute({ placeholderColor, x, y, rotate, playerHolding }) {\r\n    return (\r\n        <div className=\"trainRoute\" style={{position: 'absolute', top: y+'%', left: x+'%', zIndex:0}}>\r\n            <div \r\n                className='circle' \r\n                style={{backgroundColor: placeholderColor}}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TrainRoute\r\n","import React from 'react'\r\n\r\nfunction LineBetweenPoints({fromX, fromY, toX, toY, color, stroke}) {\r\n    \r\n    toX = (toX * window.innerWidth + 500) / window.innerWidth\r\n    const width = Math.sqrt(Math.pow(fromX - toX, 2) + Math.pow(fromY - toY, 2))\r\n    const a = Math.abs(fromX - toX)\r\n    const b = Math.abs(fromY - toY)\r\n    const c = Math.sqrt(a*a + b*b)\r\n\r\n    let alpha \r\n    if(fromX < toX){\r\n        alpha = 180 - (Math.asin(a/b) * 180 / Math.PI) - 7\r\n    }else{\r\n        alpha = (Math.asin(a/b) * 180 / Math.PI) + 7\r\n    }\r\n\r\n    return (\r\n        <svg style={{position: 'absolute', width: '100%', height: '100%'}}>\r\n            <line x1={fromX + '%'} y1={fromY + '%'} x2={toX + '%'} y2={toY + '%'} style={{stroke: color,strokeWidth: stroke}} />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default LineBetweenPoints\r\n","import React from 'react'\r\nimport { ticketToRideData } from '../../../mapdata/MapData'\r\nimport LineBetweenPoints from './LineBetweenPoints'\r\n\r\nfunction LineBetweenCities({fromCity, toCity, color, before, trainColor, stroke}) {\r\n    \r\n    let coordinates = []\r\n    const start = Object.keys(ticketToRideData.cities).find(x => {\r\n        return ticketToRideData.cities[x].city == fromCity\r\n    })\r\n    coordinates.push({'x': ticketToRideData.cities[start].x, 'y': ticketToRideData.cities[start].y})\r\n    let needToReverse = false   \r\n    let between = Object.keys(ticketToRideData.connections).find(x => {\r\n        return (ticketToRideData.connections[x].fromCity == fromCity\r\n        && ticketToRideData.connections[x].toCity == toCity\r\n        && (ticketToRideData.connections[x].color == trainColor || trainColor == 'any'))\r\n    })\r\n    if(Object.keys(ticketToRideData.connections).find(x => {\r\n        return (ticketToRideData.connections[x].fromCity == toCity\r\n            && ticketToRideData.connections[x].toCity == fromCity\r\n            && (ticketToRideData.connections[x].color == trainColor || trainColor == 'any'))\r\n    })){\r\n        between = Object.keys(ticketToRideData.connections).find(x => {\r\n            return (ticketToRideData.connections[x].fromCity == toCity\r\n                && ticketToRideData.connections[x].toCity == fromCity\r\n                && (ticketToRideData.connections[x].color == trainColor || trainColor == 'any'))\r\n        })\r\n        needToReverse = true\r\n    }\r\n\r\n\r\n    between = parseInt(between) + parseInt(before)\r\n\r\n    ticketToRideData.connections[between].elements.map(element => {\r\n        coordinates.push(element)\r\n    })\r\n\r\n    const end = Object.keys(ticketToRideData.cities).find(x => {\r\n        return ticketToRideData.cities[x].city == toCity\r\n    })\r\n    coordinates.push({'x': ticketToRideData.cities[end].x, 'y': ticketToRideData.cities[end].y})\r\n\r\n    if(needToReverse){\r\n        [coordinates[0], coordinates[coordinates.length-1]] = [coordinates[coordinates.length-1], coordinates[0]]\r\n    }\r\n\r\n    return (\r\n        <div className=\"lineBetween\" style={{zIndex: 0}}>\r\n            {coordinates.map((elem, index, array) => {\r\n                if(index + 1 < array.length){\r\n                    return <LineBetweenPoints \r\n                                fromX={elem.x} \r\n                                fromY={elem.y} \r\n                                toX={array[index+1].x} \r\n                                toY={array[index+1].y}\r\n                                color={color}\r\n                                stroke={stroke} />\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LineBetweenCities\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Map.css'\r\nimport { ticketToRideData } from '../../../mapdata/MapData.js'\r\nimport City from './City.js'\r\nimport TrainRoute from './TrainRoute'\r\nimport LineTo, { Line } from 'react-lineto'\r\nimport LineBetweenCities from './LineBetweenCities'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { \r\n    initPlayerHands, \r\n    setPlayerCount, \r\n    initOnBoardCars, \r\n    drawLongDestinations,\r\n    drawGoalOptionsForAllPlayers,\r\n    actualGoalIndex,\r\n    actualPlayerGoals,\r\n    buyingOpts,\r\n    openBuying,\r\n    build,\r\n    playerLines,\r\n    showCompletedLine,\r\n    isHovering,\r\n    currentIdx\r\n } from '../../../features/dataSlice'\r\nimport { Button, Dialog, DialogTitle } from '@material-ui/core'\r\nimport PlayerHand from '../DownSide/PlayerHand'\r\nimport {synchronizeStep, getPlayerId} from '../../../socket/ClientSocket'\r\n\r\nfunction Map() {\r\n\r\n    const colors = ['Purple', 'Green', 'Blue', 'Yellow', 'Red', 'Joker', 'Orange', 'White', 'Black'] \r\n\r\n    const dispatch = useDispatch()\r\n    const index = useSelector(actualGoalIndex)\r\n    const goals = useSelector(actualPlayerGoals)\r\n    //const [buyingOptions, setB] = useState([])\r\n    const buyingOptions = useSelector(buyingOpts)\r\n    const openBuyingPanel = useSelector(openBuying)\r\n    const lines = useSelector(playerLines)\r\n    const completedOne = useSelector(showCompletedLine)\r\n    const hovering = useSelector(isHovering)\r\n    const playerIndex = useSelector(currentIdx)\r\n    const url = process.env.PUBLIC_URL + 'ticket-to-ride-euorpe-map.jpg'\r\n    console.log(url)\r\n\r\n    //only for testing\r\n    useEffect(() => {\r\n        \r\n    }, [])\r\n\r\n    let cities\r\n\r\n    useEffect(() => {\r\n        if(goals && goals.length > 0){\r\n            cities = {\r\n                'fromCity': goals[index].fromCity,\r\n                'toCity': goals[index].toCity\r\n            }\r\n            console.log(cities)\r\n        }\r\n    }, [goals, index])\r\n\r\n    useEffect(() => {\r\n\r\n    }, [openBuyingPanel])\r\n\r\n    useEffect(() => {\r\n        console.log(completedOne)\r\n    }, [completedOne])\r\n\r\n    function closeBuyingPanel() {\r\n        dispatch(build())\r\n        if(playerIndex == getPlayerId()){\r\n            synchronizeStep()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"map\" style={{backgroundImage: url}}>\r\n            {Object.keys(ticketToRideData.cities).map(city => {\r\n                return <City \r\n                            x={ticketToRideData.cities[city].x} \r\n                            y={ticketToRideData.cities[city].y} \r\n                            name={ticketToRideData.cities[city].city}\r\n                            modifier={ticketToRideData.cities[city].alignment}\r\n                            className={ticketToRideData.cities[city].city}\r\n                            key={ticketToRideData.cities[city].id} \r\n                            goalCity={\r\n                                ticketToRideData.cities[city].city == goals?.fromCity\r\n                                    || ticketToRideData.cities[city].city == goals?.toCity\r\n                            } />\r\n            })}\r\n            {Object.keys(ticketToRideData.connections).map(connection => {\r\n                const color = ticketToRideData.connections[connection].color\r\n                const from = ticketToRideData.connections[connection].from\r\n                const to = ticketToRideData.connections[connection].to\r\n                const fromX = ticketToRideData.cities[from].x\r\n                const toX = ticketToRideData.cities[to].x\r\n                const fromY = ticketToRideData.cities[from].y\r\n                const toY = ticketToRideData.cities[to].y\r\n                const n1 = Math.sqrt(fromX*fromX+fromY*fromY)\r\n                const n2 = Math.sqrt(toX*toX+toY*toY)\r\n                const rotate = Math.acos((fromX*toX + fromY*toY)/(n1*n2)) * 180 / Math.PI\r\n                return (Object.keys(ticketToRideData.connections[connection].elements).map(element => {\r\n                    const actual = ticketToRideData.connections[connection].elements[element]\r\n                    return <TrainRoute \r\n                                placeholderColor={color} \r\n                                x={actual.x} \r\n                                y={actual.y} \r\n                                key={actual.id}\r\n                                rotate={rotate}\r\n                                playerHolding={\"red\"} />\r\n                }))\r\n                return undefined\r\n            })}\r\n\r\n            {lines.map((player, idxPlayer) => player.map((line, idxLine) => {\r\n                            let beforeValue = 0\r\n                            lines.map((player2, idxPlayer2) => player2.map((line2, idxLine2) => {\r\n                                if(!(idxPlayer2 >= idxPlayer && idxLine2 >= idxLine) && line2.fromCity == line.fromCity\r\n                                    && line2.toCity == line.toCity\r\n                                    && line2.color != line.color){\r\n                                        beforeValue++\r\n                                }\r\n                            }))\r\n                            let stroke = 3\r\n                            if(hovering && \r\n                                completedOne.filter(x => x.fromCity == line.fromCity && x.toCity == line.toCity).length > 0 &&\r\n                                line.color == colors[playerIndex]){\r\n                                console.log(line.fromCity)\r\n                                console.log(line.toCity)\r\n                                stroke = 6 \r\n                            }\r\n                            return (<LineBetweenCities\r\n                                        fromCity={line.fromCity}\r\n                                        toCity={line.toCity} \r\n                                        color={line.color}\r\n                                        before={line.trainColor == 'gray' ? beforeValue : 0}\r\n                                        trainColor={line.trainColor == 'gray' ? 'any' : line.trainColor}\r\n                                        stroke={stroke}\r\n                                        key={line.fromCity}\r\n                                        />)} \r\n                                        )\r\n                            )}\r\n        \r\n\r\n\r\n            <Dialog \r\n                style={{overflow: 'scroll'}}\r\n                open={openBuyingPanel} \r\n                onClose={closeBuyingPanel}\r\n                maxWidth={'md'} >\r\n                <DialogTitle id=\"simple-dialog-title\">Építési opciók</DialogTitle>\r\n                {buyingOptions && buyingOptions.length > 0 && buyingOptions.map((options, i) => {\r\n                    console.log(options)\r\n                    return options.options.map((option, j) => {\r\n                        const backColor = options.color\r\n                        const textColor = backColor == 'black' ? 'white' : 'black'\r\n                        return (\r\n                            <div key={i} style={{display: 'flex'}}>\r\n                                <PlayerHand cards={option} />\r\n                                <Button style={{backgroundColor: backColor, border: '1px solid black', color:textColor}} \r\n                                    onClick={() => \r\n                                        {\r\n                                            if(playerIndex == getPlayerId()){\r\n                                                dispatch(build({\r\n                                                    i: i,\r\n                                                    j: j,\r\n                                                    color: options.color}\r\n                                                    ))\r\n                                                synchronizeStep()\r\n                                            }\r\n                                        }}>ÉPÍT</Button>\r\n                            </div>\r\n                        )\r\n                    })\r\n                })}\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Map\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport dataSlice from '../features/dataSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n      data: dataSlice\r\n  }\r\n});","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux'\r\nimport './Card.css'\r\nimport store from '../../app/store'\r\nimport { drawCardToBoard, initOnBoardCars, onBoardCards, drawDestinationsInGame } from '../../features/dataSlice'\r\nimport {currentIdx} from '../../features/dataSlice'\r\nimport {synchronizeStep, getPlayerId} from '../../socket/ClientSocket'\r\n\r\nfunction Card({cardColor, idx, goalDeckCover = false}) {\r\n\r\n    //{cardColor} benne lesz, de a húzás animáció miatt így jobban átjön\r\n\r\n    const [color, setColor] = useState(cardColor)\r\n    const dispatch = useDispatch()\r\n    const data = useSelector(onBoardCards)\r\n    const cIdx = useSelector(currentIdx)\r\n\r\n    useEffect(() => {\r\n        console.log('COLOR' + [color])\r\n        setColor(data[idx])\r\n        if(cardColor == 'Cover'){\r\n            setColor('Cover')\r\n        }\r\n    }, [data])\r\n\r\n    const goOut = (e) => {\r\n        if(!goalDeckCover){\r\n            e.target.style.animation = 'cardOutAnimation 1s'\r\n            setTimeout(() => {\r\n                dispatch(drawCardToBoard({\r\n                    idx: idx,\r\n                    color: color\r\n                }))\r\n                if(cIdx == getPlayerId()){\r\n                    synchronizeStep()\r\n                }\r\n                setTimeout(() => {\r\n                    e.target.style.animation = ''\r\n                }, 300)\r\n            }, 700)\r\n        }else{\r\n            dispatch(drawDestinationsInGame())\r\n            if(cIdx == getPlayerId()){\r\n                synchronizeStep()\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"gameCard\" onClick={(e) => goOut(e)}>\r\n            <img src={ process.env.PUBLIC_URL + \"/Cards/\" + [color] + \"Card.jpg\"} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import React from 'react'\r\nimport Card from './Card'\r\nimport './Deck.css'\r\n\r\nfunction Deck({ count, coverImg, goalDeck = false }) {\r\n    return (\r\n        <div className=\"deck\">\r\n            <Card cardColor={coverImg} goalDeckCover={goalDeck} />\r\n            <p className=\"deckCount\"> {count} </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Deck\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport store from '../../app/store'\r\nimport { onBoardCards } from '../../features/dataSlice'\r\nimport Card from './Card'\r\n\r\nfunction Drawer() {\r\n\r\n    const [cards, setCards] = useState([])\r\n    const data = useSelector(onBoardCards)\r\n\r\n    useEffect(() => {\r\n        setCards(data)            \r\n    }, [data])\r\n\r\n    return (\r\n        <div>\r\n            {data.map((color, i) => {\r\n                return <Card cardColor={color} idx={i} key={i} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Drawer\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport store from '../../../app/store'\r\nimport Card from '../Card'\r\nimport Deck from '../Deck'\r\nimport Drawer from '../Drawer'\r\nimport { trainDeckLength, goalDeckLength } from '../../../features/dataSlice'\r\nimport './RightPanel.css'\r\n\r\nfunction RightPanel() {\r\n\r\n    const trainCardsLength = useSelector(trainDeckLength)\r\n    const goalCardsLength = useSelector(goalDeckLength)\r\n\r\n    return (\r\n        <div className=\"rightPanel\">\r\n            <Deck coverImg=\"Cover\" count={trainCardsLength} />\r\n            <Drawer />\r\n            <Deck coverImg=\"Cover\" count={goalCardsLength} goalDeck={true} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightPanel\r\n","import React from 'react'\r\nimport LeftPanel from './LeftPanel'\r\nimport Map from './Map'\r\nimport RightPanel from './RightPanel'\r\nimport './UpperSide.css'\r\n\r\nfunction UpperSide() {\r\n    \r\n    return (\r\n        <div className=\"upperSide\">\r\n            <LeftPanel />\r\n            <Map />\r\n            <RightPanel />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpperSide\r\n","import React from 'react'\r\nimport DownSide from './components/DownSide/DownSide'\r\nimport UpperSide from './components/UpperSide/UpperSide'\r\n\r\nfunction GamePage() {\r\n    return (\r\n        <div className=\"gamepage\">\r\n            <UpperSide />\r\n            \r\n            <DownSide />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GamePage\r\n","import React, { useState } from 'react'\r\nimport './HomePage.css'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Fab from '@material-ui/core/Fab'\r\nimport NavigationIcon from '@material-ui/icons/Navigation'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport MuiAlert from '@material-ui/lab/Alert'\r\nimport {getRoomId, wsCreateRoom, wsJoinRoom} from '../socket/ClientSocket'\r\nimport { useDispatch } from 'react-redux'\r\nimport { initNames } from '../features/dataSlice'\r\nimport { initPlayerHands, \r\n    setPlayerCount, \r\n    initOnBoardCars, \r\n    drawLongDestinations,\r\n    drawGoalOptionsForAllPlayers,\r\n    playerInfos,\r\n    isRoomFull\r\n } from '../features/dataSlice'\r\n\r\nfunction HomePage() {\r\n\r\n    const [playerName, setPlayerName] = useState(\"\")\r\n    const [joinPlayerName, setJoinPlayerName] = useState(\"\")\r\n    const [playerCount, setPlayerCount] = useState(0)\r\n    const [roomID, setRoomID] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const createRoom = (e) => {\r\n        e.preventDefault()\r\n        if(playerName.trim() != \"\" && playerCount > 1 && playerCount < 6){\r\n            localStorage.setItem('hostPlayerName', playerName)\r\n            localStorage.setItem('roomCount', playerCount)\r\n            dispatch(initNames(playerCount))\r\n            dispatch(initPlayerHands())\r\n            dispatch(initOnBoardCars())\r\n            dispatch(drawLongDestinations())\r\n            dispatch(drawGoalOptionsForAllPlayers())\r\n            const answer = wsCreateRoom(playerCount, playerName)\r\n            history.push('/room/')\r\n        }else{\r\n            setOpen(true)\r\n        }\r\n    }\r\n    \r\n    const joinRoom = (e) => {\r\n        e.preventDefault()\r\n        if(joinPlayerName.trim() != \"\" && roomID.trim() != \"\"){\r\n            localStorage.setItem('hostPlayerName', playerName)\r\n            localStorage.setItem('roomID', roomID)\r\n            wsJoinRoom(roomID, joinPlayerName)\r\n            history.push('/room/')\r\n        }else{\r\n            setOpen(true)\r\n        }\r\n    }\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClick = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n        return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"homePage\">\r\n            <div className=\"titleHolder\">\r\n                <h1>Ticket to ride</h1>\r\n            </div>\r\n            <div className=\"logoHolder\">\r\n                <img src=\"http://www.ranklogos.com/wp-content/uploads/2016/09/Ticket-to-Ride-Logo-RK1220.png\" alt=\"Logo\"/>\r\n            </div>\r\n            <div className=\"boxHolder\">\r\n                <div className=\"leftBox box\">\r\n                    <h1>Új játék</h1>\r\n                    <form onSubmit={e => createRoom(e)}>\r\n                        <TextField\r\n                            label=\"Felhasználónév\"\r\n                            defaultValue=\"\"\r\n                            helperText=\"\"\r\n                            onChange={e => setPlayerName(e.target.value)} \r\n                            style={{minWidth: 200}} />\r\n                        <br/>\r\n                        <FormControl style={{minWidth: 200}}>\r\n                            <InputLabel id=\"demo-simple-select-label\">Játékosok száma</InputLabel>\r\n                            <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            onChange={e => setPlayerCount(e.target.value)}>\r\n                                <MenuItem value={2}>2</MenuItem>\r\n                                <MenuItem value={3}>3</MenuItem>\r\n                                <MenuItem value={4}>4</MenuItem>\r\n                                <MenuItem value={5}>5</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                        <br/>\r\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" onClick={e => createRoom(e)}>\r\n                            Létrehozás\r\n                        </Button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"rightBox box\">\r\n                    <h1>Csatlakozás szobához</h1>\r\n                    <form onSubmit={e => joinRoom(e)}>\r\n                        <TextField\r\n                            label=\"Felhasználónév\"\r\n                            defaultValue=\"\"\r\n                            helperText=\"\"\r\n                            onChange={e => setJoinPlayerName(e.target.value)} \r\n                            style={{minWidth: 200}} />\r\n                        <br/>\r\n                        <TextField\r\n                            label=\"Szoba azonosítója\"\r\n                            defaultValue=\"\"\r\n                            helperText=\"\"\r\n                            onChange={e => setRoomID(e.target.value)} \r\n                            style={{minWidth: 200}} />\r\n                        <br/>\r\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\" onClick={e => joinRoom(e)}>\r\n                            Csatlakozás\r\n                        </Button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"helpHolder\">\r\n            <Fab variant=\"extended\" color=\"primary\" onClick={()=> window.open(\"https://tarsasjatekrendeles.hu/shop_ordered/7237/pic/Compaya/Ticket_To_Ride_Europe.pdf\", \"_blank\")}>\r\n                <NavigationIcon />\r\n                Játékszabályzat\r\n            </Fab>\r\n            </div>\r\n            <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    Kérlek adj meg minden adatot!\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","import React, { useEffect, useState } from 'react'\r\nimport './WaitingRoom.css'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { Avatar, IconButton } from '@material-ui/core'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { initPlayerHands, \r\n    setPlayerCount, \r\n    initOnBoardCars, \r\n    drawLongDestinations,\r\n    drawGoalOptionsForAllPlayers,\r\n    playerInfos,\r\n    isRoomFull,\r\n    playersJoined\r\n } from '../features/dataSlice'\r\nimport { getRoomId, leaveRoom, logStore, getRoomFull } from '../socket/ClientSocket'\r\n\r\nfunction useForceUpdate(){\r\n    const [value, setValue] = useState(0); // integer state\r\n    return () => setValue(value => value + 1); // update the state to force render\r\n}\r\n\r\nfunction WaitingRoom() {\r\n\r\n    const seed = Math.floor(Math.random() * 10000)\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const infos = useSelector(playerInfos)\r\n    const joined = useSelector(playersJoined)\r\n    const forceUpdate = useForceUpdate()\r\n    const isFull = useSelector(isRoomFull)\r\n    const full = getRoomFull()\r\n    const [roomId, setRoomId] = useState()\r\n\r\n    useEffect(() => {\r\n        console.log('infos update')\r\n        forceUpdate()\r\n        setRoomId(getRoomId())\r\n        console.log(infos)\r\n        if(isFull == true){\r\n            history.push('../../game/123')\r\n        }\r\n    }, [infos, isFull])\r\n\r\n    const startGame = () => {\r\n        history.push('../../game/123')\r\n    }\r\n\r\n    const make = () => {\r\n        logStore()\r\n        console.log(infos)\r\n        forceUpdate()\r\n    }\r\n    \r\n    return (\r\n        <div className=\"waitingRoom\">\r\n            <div className=\"exit\">\r\n                <Tooltip title=\"Kilépés\">\r\n                    <IconButton aria-label=\"leave-room\" onClick={() => {\r\n                        leaveRoom(getRoomId())\r\n                        history.push('../..')\r\n                    }}>\r\n                        <ExitToAppIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </div>\r\n\r\n            <div className=\"elements\">\r\n                <h1>{ roomId }</h1>\r\n\r\n                <div className=\"players\">\r\n                    {Array.from(Array(infos.length).keys()).map(item => {\r\n                        const name = infos[item]?.name == '' ? 'Waiting...' : infos[item]?.name\r\n                        return (\r\n                            <div key={item} className=\"player\">\r\n                                <Avatar src={`https://avatars.dicebear.com/4.5/api/human/${seed+item}.svg`} />\r\n                                <p className=\"playerName\">{name}</p>\r\n                                {name == 'Waiting...' && <CircularProgress />}\r\n                                {name != 'Waiting...' && <DoneIcon />}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                \r\n                <Button variant=\"outlined\" color=\"primary\" onClick={() => startGame()} >\r\n                        Játék indítása\r\n                </Button>\r\n\r\n                <Button onClick={() => make()}>Log Store</Button>\r\n\r\n                {infos[0]?.name}\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingRoom\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Map from '../GamePage/components/UpperSide/Map';\r\nimport { useDispatch } from 'react-redux';\r\nimport { hoveringGoal, setHoveredData } from '../features/dataSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction ScoreBoardMapDialog({fromCity, toCity}) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n    dispatch(setHoveredData({\r\n      from: fromCity,\r\n      to: toCity\r\n    }))\r\n    dispatch(hoveringGoal(true))\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        Mutasd\r\n      </Button>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Térkép\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              Bezárás\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Map />\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScoreBoardMapDialog","import React, { useState } from 'react'\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport { Button, makeStyles, withStyles } from '@material-ui/core';\r\nimport ScoreBoardMapDialog from './ScoreBoardMapDialog';\r\n\r\nfunction ScoreBoardRow({idx, row, map}) {\r\n\r\n    const StyledTableRow = withStyles((theme) => ({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n                backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }))(TableRow);\r\n\r\n    const useStyles = makeStyles({\r\n        table: {\r\n          minWidth: 700,\r\n        },\r\n    });\r\n\r\n    const classes = useStyles()\r\n\r\n    const StyledTableCell = withStyles((theme) => ({\r\n        head: {\r\n            backgroundColor: theme.palette.common.black,\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n        },\r\n    }))(TableCell);\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <React.Fragment key={row.playerName}>\r\n            {idx % 2 == 0 &&\r\n            <StyledTableRow>\r\n                <StyledTableCell>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.playerName}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.allDestinations}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.completedDestinations}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.longestTrain}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.points}</StyledTableCell>\r\n            </StyledTableRow> }\r\n            {idx % 2 != 0 &&\r\n            <TableRow>\r\n                <StyledTableCell>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.playerName}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.allDestinations}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.completedDestinations}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.longestTrain}</StyledTableCell>\r\n                <StyledTableCell component=\"th\">{row.points}</StyledTableCell>\r\n            </TableRow> }\r\n            <StyledTableRow>\r\n                <StyledTableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                    <Box margin={1}>\r\n                    <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                        Útvonalak részletei\r\n                    </Typography>\r\n                    <Table size=\"small\" aria-label=\"purchases\">\r\n                        <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell><b>Útvonal kezdete</b></StyledTableCell>\r\n                            <StyledTableCell><b>Útvonal vége</b></StyledTableCell>\r\n                            <StyledTableCell align=\"center\"><b>Pontszám</b></StyledTableCell>\r\n                            <StyledTableCell align=\"center\"><b>Teljesítve</b></StyledTableCell>\r\n                            <StyledTableCell align=\"center\">\r\n                                Térképen\r\n                            </StyledTableCell>\r\n                        </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {row.destinationData.map((data, idx) => (\r\n                            <TableRow key={idx}>\r\n                                <StyledTableCell component=\"th\" scope=\"row\">\r\n                                    {data.fromCity}\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>{data.toCity}</StyledTableCell>\r\n                                <StyledTableCell align=\"center\">{data.value}</StyledTableCell>\r\n                                <StyledTableCell align=\"center\" style={{color: data.completed ? 'green' : 'red'}}>\r\n                                    {data.completed ? 'igen' : 'nem'}\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>\r\n                                    <ScoreBoardMapDialog fromCity={data.fromCity} toCity={data.toCity} />\r\n                                </StyledTableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                    </Box>\r\n                </Collapse>\r\n                </StyledTableCell>\r\n            </StyledTableRow>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ScoreBoardRow\r\n","import React, { useEffect, useState } from 'react'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport ScoreBoardRow from './ScoreBoardRow'\r\nimport './ScoreBoardPage.css'\r\nimport { Button, makeStyles, withStyles } from '@material-ui/core'\r\nimport ScoreBoardMapDialog from './ScoreBoardMapDialog'\r\nimport { allGoals, playerInfos } from '../features/dataSlice'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\n\r\nfunction ScoreBoardPage() {\r\n\r\n    const map = <ScoreBoardMapDialog />\r\n    \r\n    const createData = (playerName, allDestinations, completedDestinations, longestTrain, points, destinationData) => {\r\n        return {\r\n            playerName,\r\n            allDestinations,\r\n            completedDestinations,\r\n            longestTrain,\r\n            points,\r\n            destinationData\r\n        }\r\n    }\r\n\r\n    const infos = useSelector(playerInfos)\r\n    const goals = useSelector(allGoals)\r\n\r\n    const rows = infos.map((info, idx) => {\r\n        const name = info.name\r\n        const allDestinations = goals[idx] ? goals[idx]?.length : 0\r\n        const completedDestinations = goals[idx] ? goals[idx].filter(i => i.completed == true)?.length : 0\r\n        const longestTrain = info.longestTrain\r\n        const points = info.playerScore\r\n        const destinationData = goals[idx] ? goals[idx] : []\r\n        return createData(name, allDestinations, completedDestinations, longestTrain, points, destinationData)\r\n    })\r\n\r\n    /*const rows = [\r\n        createData('Player1', 3, 1, 15, 30),\r\n        createData('Player2', 2, 2, 20, 26),\r\n        createData('Player3', 3, 1, 11, 20),\r\n        createData('Player4', 3, 1, 8, 12),\r\n        createData('Player5', 2, 1, 3, 8)\r\n    ]*/\r\n\r\n    const StyledTableCell = withStyles((theme) => ({\r\n        head: {\r\n            backgroundColor: theme.palette.common.black,\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n        },\r\n    }))(TableCell);\r\n      \r\n    const StyledTableRow = withStyles((theme) => ({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }))(TableRow);\r\n\r\n    const useStyles = makeStyles({\r\n        table: {\r\n          minWidth: 700,\r\n        },\r\n    });\r\n\r\n    const classes = useStyles()\r\n\r\n    const history = useHistory()\r\n\r\n    function back() {\r\n        history.push('../')\r\n    }\r\n\r\n    return (\r\n        <div className=\"scoreBoard\">\r\n            <div>\r\n                <h1>Eredmények</h1>\r\n                <Table className={classes.table} aria-label=\"collapsible table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell />\r\n                            <StyledTableCell><b>Név</b></StyledTableCell>\r\n                            <StyledTableCell><b>Útvonalak</b></StyledTableCell>\r\n                            <StyledTableCell><b>Teljesített útvonalak</b></StyledTableCell>\r\n                            <StyledTableCell><b>Leghosszabb út</b></StyledTableCell>\r\n                            <StyledTableCell><b>Pontok</b></StyledTableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {rows.map((row, idx) => {\r\n                            return (\r\n                                <ScoreBoardRow \r\n                                    idx={idx} \r\n                                    key={idx} \r\n                                    row={row}\r\n                                    map={map} />\r\n                            )\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n                <Button onClick={back}>Vissza a kezdőlapra</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScoreBoardPage\r\n","import './App.css';\nimport GamePage from './GamePage/GamePage';\nimport HomePage from './HomePage/HomePage';\nimport WaitingRoom from './WaitingRoom/WaitingRoom';\nimport { BrowserRouter as Router, Route, Switch, useHistory } from \"react-router-dom\";\nimport ScoreBoardPage from './ScoreBoardPage/ScoreBoardPage';\nimport { registerListenersOnSocket } from './socket/ClientSocket';\nimport store from './app/store'\n\nfunction App() {\n\n  const history = useHistory()\n  registerListenersOnSocket(store, history)\n  \n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n            <HomePage />\n          </Route>\n          <Route path='/room/'>\n            <WaitingRoom />\n          </Route>\n          <Route path='/game/:id'>\n            <GamePage />\n          </Route>\n          <Route path=\"/scoreboard\">\n            <ScoreBoardPage />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport reportWebVitals from './reportWebVitals'\nimport store from './app/store'\n\nReactDOM.render( \n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}